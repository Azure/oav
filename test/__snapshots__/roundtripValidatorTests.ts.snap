// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Live Validator Initialization OperationLoader should be completely initialized 1`] = `
Array [
  "location",
  "/200/schema/properties/nextLink",
  "/200/schema/properties/value/items/properties/osType",
]
`;

exports[`Live Validator Initialization OperationLoader should be completely initialized for outer circular ref 1`] = `Object {}`;

exports[`Live Validator Initialization OperationLoader should be initialized only with spec 1`] = `
Array [
  "parameters/schema/properties/id",
  "parameters/schema/properties/name",
  "parameters/schema/properties/type",
  "parameters/schema/properties/properties/properties/statuses",
  "/200/schema/properties/id",
  "/200/schema/properties/name",
  "/200/schema/properties/type",
  "/200/schema/properties/properties/properties/statuses",
]
`;

exports[`Live Validator Initialization OperationLoader should be initialized only with spec 2`] = `
Map {
  "readOnly" => Map {
    "parameters/schema/properties/id" => Array [],
    "parameters/schema/properties/name" => Array [],
    "parameters/schema/properties/type" => Array [],
    "parameters/schema/properties/properties/properties/statuses" => Array [],
    "/200/schema/properties/id" => Array [],
    "/200/schema/properties/name" => Array [],
    "/200/schema/properties/type" => Array [],
    "/200/schema/properties/properties/properties/statuses" => Array [],
  },
  "secret" => Map {},
  "default" => Map {},
  "mutability" => Map {
    "parameters/schema/properties/sku" => Array [
      "read",
    ],
    "/200/schema/properties/sku" => Array [
      "read",
    ],
  },
}
`;

exports[`Live Validator Initialization Round trip validation fail 1`] = `
Object {
  "errors": Array [
    Object {
      "code": "ROUNDTRIP_INCONSISTENT_PROPERTY",
      "jsonPathsInPayload": Array [],
      "message": "The property's value 'westcentralus1' in the GET response is different from what was set 'westcentralus' in the preceding PUT request.",
      "pathsInPayload": Array [
        "/location",
      ],
      "schemaPath": "",
      "severity": 0,
      "source": Object {
        "position": Object {
          "column": 0,
          "line": 0,
        },
        "url": "",
      },
    },
    Object {
      "code": "ROUNDTRIP_ADDITIONAL_PROPERTY",
      "jsonPathsInPayload": Array [],
      "message": "The property 'versionlist/1' is returned in the GET response, but it is not declared in the PUT request.",
      "pathsInPayload": Array [
        "/versionlist/1",
      ],
      "schemaPath": "",
      "severity": 0,
      "source": Object {
        "position": Object {
          "column": 0,
          "line": 0,
        },
        "url": "",
      },
    },
    Object {
      "code": "ROUNDTRIP_MISSING_PROPERTY",
      "jsonPathsInPayload": Array [],
      "message": "The property 'createOption' is present in the PUT request but is either never returned in the GET response or is returned with a null value.",
      "pathsInPayload": Array [
        "/properties/storageProfile/osDisk/createOption",
      ],
      "schemaPath": "",
      "severity": 0,
      "source": Object {
        "position": Object {
          "column": 0,
          "line": 0,
        },
        "url": "",
      },
    },
    Object {
      "code": "ROUNDTRIP_ADDITIONAL_PROPERTY",
      "jsonPathsInPayload": Array [],
      "message": "The property 'caching' is returned in the GET response, but it is not declared in the PUT request.",
      "pathsInPayload": Array [
        "/properties/storageProfile/osDisk/caching",
      ],
      "schemaPath": "",
      "severity": 0,
      "source": Object {
        "position": Object {
          "column": 0,
          "line": 0,
        },
        "url": "",
      },
    },
    Object {
      "code": "ROUNDTRIP_MISSING_PROPERTY",
      "jsonPathsInPayload": Array [],
      "message": "The property 'offer' is present in the PUT request but is either never returned in the GET response or is returned with a null value.",
      "pathsInPayload": Array [
        "/properties/storageProfile/imageReference/offer",
      ],
      "schemaPath": "",
      "severity": 0,
      "source": Object {
        "position": Object {
          "column": 0,
          "line": 0,
        },
        "url": "",
      },
    },
    Object {
      "code": "ROUNDTRIP_MISSING_PROPERTY",
      "jsonPathsInPayload": Array [],
      "message": "The property 'computerName' is present in the PUT request but is either never returned in the GET response or is returned with a null value.",
      "pathsInPayload": Array [
        "/properties/osProfile/computerName",
      ],
      "schemaPath": "",
      "severity": 0,
      "source": Object {
        "position": Object {
          "column": 0,
          "line": 0,
        },
        "url": "",
      },
    },
    Object {
      "code": "ROUNDTRIP_ADDITIONAL_PROPERTY",
      "jsonPathsInPayload": Array [],
      "message": "The property 'hardwareProfile' is returned in the GET response, but it is not declared in the PUT request.",
      "pathsInPayload": Array [
        "/hardwareProfile",
      ],
      "schemaPath": "",
      "severity": 0,
      "source": Object {
        "position": Object {
          "column": 0,
          "line": 0,
        },
        "url": "",
      },
    },
  ],
  "isSuccessful": false,
  "operationInfo": Object {
    "apiVersion": "2021-11-01",
    "operationId": "VirtualMachines_CreateOrUpdate",
  },
  "runtimeException": undefined,
}
`;

exports[`Live Validator Initialization Round trip validation of circular spec 1`] = `
Array [
  "/200/schema/properties/id",
  "/200/schema/properties/name",
  "/200/schema/properties/type",
  "/200/schema/properties/properties/properties/provisioningState",
  "/200/schema/properties/properties/properties/maxAgentPools",
  "/200/schema/properties/properties/properties/fqdn",
  "/200/schema/properties/properties/properties/agentPoolProfiles/items/properties/provisioningState",
  "/200/schema/properties/identity/properties/principalId",
  "/200/schema/properties/identity/properties/tenantId",
]
`;

exports[`Live Validator Initialization Round trip validation of circular spec 2`] = `
Object {
  "operationId": "ManagedClusters_Get",
  "parameters": Array [
    Object {
      "in": "query",
      "name": "api-version",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "client",
      Symbol(oav-schema-refself): "_1#/parameters/ApiVersionParameter",
    },
    Object {
      "in": "path",
      "name": "subscriptionId",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "client",
      Symbol(oav-schema-refself): "_1#/parameters/SubscriptionIdParameter",
    },
    Object {
      "in": "path",
      "minLength": 1,
      "name": "resourceGroupName",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method",
      Symbol(oav-schema-refself): "_1#/parameters/ResourceGroupNameParameter",
    },
    Object {
      "in": "path",
      "maxLength": 63,
      "minLength": 1,
      "name": "resourceName",
      "pattern": "^[a-zA-Z0-9]$|^[a-zA-Z0-9][-_a-zA-Z0-9]{0,61}[a-zA-Z0-9]$",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method",
      Symbol(oav-schema-refself): "_1#/parameters/ResourceNameParameter",
    },
  ],
  "responses": Object {
    "200": Object {
      "schema": Object {
        "additionalProperties": false,
        "nullable": true,
        "properties": Object {
          "id": Object {
            "nullable": true,
            "readOnly": true,
            "type": "string",
          },
          "identity": Object {
            "additionalProperties": false,
            "nullable": true,
            "properties": Object {
              "principalId": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "tenantId": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "type": Object {
                "enum": Array [
                  "SystemAssigned",
                  "None",
                ],
                "nullable": true,
                "type": "string",
                "x-ms-enum": Object {
                  "modelAsString": false,
                  "name": "ResourceIdentityType",
                },
              },
            },
          },
          "location": Object {
            "type": "string",
            "x-ms-mutability": Array [
              "read",
              "create",
            ],
          },
          "name": Object {
            "nullable": true,
            "readOnly": true,
            "type": "string",
          },
          "properties": Object {
            "additionalProperties": false,
            "nullable": true,
            "properties": Object {
              "aadProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "clientAppID": Object {
                    "type": "string",
                  },
                  "serverAppID": Object {
                    "type": "string",
                  },
                  "serverAppSecret": Object {
                    "nullable": true,
                    "type": "string",
                  },
                  "tenantID": Object {
                    "nullable": true,
                    "type": "string",
                  },
                },
                "required": Array [
                  "clientAppID",
                  "serverAppID",
                ],
              },
              "addonProfiles": Object {
                "additionalProperties": Object {
                  "additionalProperties": false,
                  "nullable": true,
                  "properties": Object {
                    "config": Object {
                      "additionalProperties": Object {
                        "nullable": true,
                        "type": "string",
                      },
                      "nullable": true,
                    },
                    "enabled": Object {
                      "type": "boolean",
                    },
                  },
                  "required": Array [
                    "enabled",
                  ],
                },
                "nullable": true,
              },
              "agentPoolProfiles": Object {
                "items": Object {
                  "additionalProperties": false,
                  "nullable": true,
                  "properties": Object {
                    "availabilityZones": Object {
                      "items": Object {
                        "nullable": true,
                        "type": "string",
                      },
                      "nullable": true,
                      "type": "array",
                    },
                    "count": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "enableAutoScaling": Object {
                      "nullable": true,
                      "type": "boolean",
                    },
                    "enableNodePublicIP": Object {
                      "nullable": true,
                      "type": "boolean",
                    },
                    "maxCount": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "maxPods": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "minCount": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "name": Object {
                      "nullable": true,
                      "pattern": "^[a-z][a-z0-9]{0,11}$",
                      "type": "string",
                    },
                    "nodeTaints": Object {
                      "items": Object {
                        "nullable": true,
                        "type": "string",
                      },
                      "nullable": true,
                      "type": "array",
                    },
                    "orchestratorVersion": Object {
                      "nullable": true,
                      "type": "string",
                    },
                    "osDiskSizeGB": Object {
                      "format": "int32",
                      "maximum": 1023,
                      "minimum": 0,
                      "nullable": true,
                      "type": "integer",
                    },
                    "osType": Object {
                      "default": "Linux",
                      "enum": Array [
                        "Linux",
                        "Windows",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "OSType",
                      },
                    },
                    "provisioningState": Object {
                      "nullable": true,
                      "readOnly": true,
                      "type": "string",
                    },
                    "scaleSetEvictionPolicy": Object {
                      "default": "Delete",
                      "enum": Array [
                        "Delete",
                        "Deallocate",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "ScaleSetEvictionPolicy",
                      },
                    },
                    "scaleSetPriority": Object {
                      "default": "Regular",
                      "enum": Array [
                        "Low",
                        "Regular",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "ScaleSetPriority",
                      },
                    },
                    "type": Object {
                      "enum": Array [
                        "VirtualMachineScaleSets",
                        "AvailabilitySet",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "AgentPoolType",
                      },
                    },
                    "vmSize": Object {
                      "enum": Array [
                        "Standard_A1",
                        "Standard_A10",
                        "Standard_A11",
                        "Standard_A1_v2",
                        "Standard_A2",
                        "Standard_A2_v2",
                        "Standard_A2m_v2",
                        "Standard_A3",
                        "Standard_A4",
                        "Standard_A4_v2",
                        "Standard_A4m_v2",
                        "Standard_A5",
                        "Standard_A6",
                        "Standard_A7",
                        "Standard_A8",
                        "Standard_A8_v2",
                        "Standard_A8m_v2",
                        "Standard_A9",
                        "Standard_B2ms",
                        "Standard_B2s",
                        "Standard_B4ms",
                        "Standard_B8ms",
                        "Standard_D1",
                        "Standard_D11",
                        "Standard_D11_v2",
                        "Standard_D11_v2_Promo",
                        "Standard_D12",
                        "Standard_D12_v2",
                        "Standard_D12_v2_Promo",
                        "Standard_D13",
                        "Standard_D13_v2",
                        "Standard_D13_v2_Promo",
                        "Standard_D14",
                        "Standard_D14_v2",
                        "Standard_D14_v2_Promo",
                        "Standard_D15_v2",
                        "Standard_D16_v3",
                        "Standard_D16s_v3",
                        "Standard_D1_v2",
                        "Standard_D2",
                        "Standard_D2_v2",
                        "Standard_D2_v2_Promo",
                        "Standard_D2_v3",
                        "Standard_D2s_v3",
                        "Standard_D3",
                        "Standard_D32_v3",
                        "Standard_D32s_v3",
                        "Standard_D3_v2",
                        "Standard_D3_v2_Promo",
                        "Standard_D4",
                        "Standard_D4_v2",
                        "Standard_D4_v2_Promo",
                        "Standard_D4_v3",
                        "Standard_D4s_v3",
                        "Standard_D5_v2",
                        "Standard_D5_v2_Promo",
                        "Standard_D64_v3",
                        "Standard_D64s_v3",
                        "Standard_D8_v3",
                        "Standard_D8s_v3",
                        "Standard_DS1",
                        "Standard_DS11",
                        "Standard_DS11_v2",
                        "Standard_DS11_v2_Promo",
                        "Standard_DS12",
                        "Standard_DS12_v2",
                        "Standard_DS12_v2_Promo",
                        "Standard_DS13",
                        "Standard_DS13-2_v2",
                        "Standard_DS13-4_v2",
                        "Standard_DS13_v2",
                        "Standard_DS13_v2_Promo",
                        "Standard_DS14",
                        "Standard_DS14-4_v2",
                        "Standard_DS14-8_v2",
                        "Standard_DS14_v2",
                        "Standard_DS14_v2_Promo",
                        "Standard_DS15_v2",
                        "Standard_DS1_v2",
                        "Standard_DS2",
                        "Standard_DS2_v2",
                        "Standard_DS2_v2_Promo",
                        "Standard_DS3",
                        "Standard_DS3_v2",
                        "Standard_DS3_v2_Promo",
                        "Standard_DS4",
                        "Standard_DS4_v2",
                        "Standard_DS4_v2_Promo",
                        "Standard_DS5_v2",
                        "Standard_DS5_v2_Promo",
                        "Standard_E16_v3",
                        "Standard_E16s_v3",
                        "Standard_E2_v3",
                        "Standard_E2s_v3",
                        "Standard_E32-16s_v3",
                        "Standard_E32-8s_v3",
                        "Standard_E32_v3",
                        "Standard_E32s_v3",
                        "Standard_E4_v3",
                        "Standard_E4s_v3",
                        "Standard_E64-16s_v3",
                        "Standard_E64-32s_v3",
                        "Standard_E64_v3",
                        "Standard_E64s_v3",
                        "Standard_E8_v3",
                        "Standard_E8s_v3",
                        "Standard_F1",
                        "Standard_F16",
                        "Standard_F16s",
                        "Standard_F16s_v2",
                        "Standard_F1s",
                        "Standard_F2",
                        "Standard_F2s",
                        "Standard_F2s_v2",
                        "Standard_F32s_v2",
                        "Standard_F4",
                        "Standard_F4s",
                        "Standard_F4s_v2",
                        "Standard_F64s_v2",
                        "Standard_F72s_v2",
                        "Standard_F8",
                        "Standard_F8s",
                        "Standard_F8s_v2",
                        "Standard_G1",
                        "Standard_G2",
                        "Standard_G3",
                        "Standard_G4",
                        "Standard_G5",
                        "Standard_GS1",
                        "Standard_GS2",
                        "Standard_GS3",
                        "Standard_GS4",
                        "Standard_GS4-4",
                        "Standard_GS4-8",
                        "Standard_GS5",
                        "Standard_GS5-16",
                        "Standard_GS5-8",
                        "Standard_H16",
                        "Standard_H16m",
                        "Standard_H16mr",
                        "Standard_H16r",
                        "Standard_H8",
                        "Standard_H8m",
                        "Standard_L16s",
                        "Standard_L32s",
                        "Standard_L4s",
                        "Standard_L8s",
                        "Standard_M128-32ms",
                        "Standard_M128-64ms",
                        "Standard_M128ms",
                        "Standard_M128s",
                        "Standard_M64-16ms",
                        "Standard_M64-32ms",
                        "Standard_M64ms",
                        "Standard_M64s",
                        "Standard_NC12",
                        "Standard_NC12s_v2",
                        "Standard_NC12s_v3",
                        "Standard_NC24",
                        "Standard_NC24r",
                        "Standard_NC24rs_v2",
                        "Standard_NC24rs_v3",
                        "Standard_NC24s_v2",
                        "Standard_NC24s_v3",
                        "Standard_NC6",
                        "Standard_NC6s_v2",
                        "Standard_NC6s_v3",
                        "Standard_ND12s",
                        "Standard_ND24rs",
                        "Standard_ND24s",
                        "Standard_ND6s",
                        "Standard_NV12",
                        "Standard_NV24",
                        "Standard_NV6",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "ContainerServiceVMSizeTypes",
                      },
                    },
                    "vnetSubnetID": Object {
                      "nullable": true,
                      "type": "string",
                    },
                  },
                  "required": Array [
                    "name",
                  ],
                },
                "nullable": true,
                "type": "array",
              },
              "apiServerAccessProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "authorizedIPRanges": Object {
                    "items": Object {
                      "nullable": true,
                      "type": "string",
                    },
                    "nullable": true,
                    "type": "array",
                  },
                  "enablePrivateCluster": Object {
                    "nullable": true,
                    "type": "boolean",
                  },
                },
              },
              "dnsPrefix": Object {
                "nullable": true,
                "type": "string",
              },
              "enablePodSecurityPolicy": Object {
                "nullable": true,
                "type": "boolean",
              },
              "enableRBAC": Object {
                "nullable": true,
                "type": "boolean",
              },
              "fqdn": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "kubernetesVersion": Object {
                "nullable": true,
                "type": "string",
              },
              "linuxProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "adminUsername": Object {
                    "pattern": "^[A-Za-z][-A-Za-z0-9_]*$",
                    "type": "string",
                  },
                  "ssh": Object {
                    "additionalProperties": false,
                    "properties": Object {
                      "publicKeys": Object {
                        "items": Object {
                          "additionalProperties": false,
                          "nullable": true,
                          "properties": Object {
                            "keyData": Object {
                              "type": "string",
                            },
                          },
                          "required": Array [
                            "keyData",
                          ],
                        },
                        "type": "array",
                      },
                    },
                    "required": Array [
                      "publicKeys",
                    ],
                  },
                },
                "required": Array [
                  "adminUsername",
                  "ssh",
                ],
              },
              "maxAgentPools": Object {
                "format": "int32",
                "nullable": true,
                "readOnly": true,
                "type": "integer",
              },
              "networkProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "dnsServiceIP": Object {
                    "default": "10.0.0.10",
                    "nullable": true,
                    "pattern": "^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",
                    "type": "string",
                  },
                  "dockerBridgeCidr": Object {
                    "default": "172.17.0.1/16",
                    "nullable": true,
                    "pattern": "^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$",
                    "type": "string",
                  },
                  "loadBalancerProfile": Object {
                    "additionalProperties": false,
                    "nullable": true,
                    "properties": Object {
                      "effectiveOutboundIPs": Object {
                        "items": Object {
                          "additionalProperties": false,
                          "nullable": true,
                          "properties": Object {
                            "id": Object {
                              "nullable": true,
                              "type": "string",
                            },
                          },
                        },
                        "nullable": true,
                        "type": "array",
                      },
                      "managedOutboundIPs": Object {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": Object {
                          "count": Object {
                            "default": 1,
                            "format": "int32",
                            "maximum": 100,
                            "minimum": 1,
                            "nullable": true,
                            "type": "integer",
                          },
                        },
                      },
                      "outboundIPPrefixes": Object {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": Object {
                          "publicIPPrefixes": Object {
                            "items": Object {
                              "additionalProperties": false,
                              "nullable": true,
                              "properties": Object {
                                "id": Object {
                                  "nullable": true,
                                  "type": "string",
                                },
                              },
                            },
                            "nullable": true,
                            "type": "array",
                          },
                        },
                      },
                      "outboundIPs": Object {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": Object {
                          "publicIPs": Object {
                            "items": Object {
                              "additionalProperties": false,
                              "nullable": true,
                              "properties": Object {
                                "id": Object {
                                  "nullable": true,
                                  "type": "string",
                                },
                              },
                            },
                            "nullable": true,
                            "type": "array",
                          },
                        },
                      },
                    },
                  },
                  "loadBalancerSku": Object {
                    "enum": Array [
                      "standard",
                      "basic",
                    ],
                    "nullable": true,
                    "type": "string",
                    "x-ms-enum": Object {
                      "modelAsString": true,
                      "name": "loadBalancerSku",
                    },
                  },
                  "networkPlugin": Object {
                    "default": "kubenet",
                    "enum": Array [
                      "azure",
                      "kubenet",
                    ],
                    "nullable": true,
                    "type": "string",
                    "x-ms-enum": Object {
                      "modelAsString": true,
                      "name": "NetworkPlugin",
                    },
                  },
                  "networkPolicy": Object {
                    "enum": Array [
                      "calico",
                      "azure",
                    ],
                    "nullable": true,
                    "type": "string",
                    "x-ms-enum": Object {
                      "modelAsString": true,
                      "name": "NetworkPolicy",
                    },
                  },
                  "podCidr": Object {
                    "default": "10.244.0.0/16",
                    "nullable": true,
                    "pattern": "^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$",
                    "type": "string",
                  },
                  "serviceCidr": Object {
                    "default": "10.0.0.0/16",
                    "nullable": true,
                    "pattern": "^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$",
                    "type": "string",
                  },
                },
              },
              "nodeResourceGroup": Object {
                "nullable": true,
                "type": "string",
              },
              "provisioningState": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "servicePrincipalProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "clientId": Object {
                    "type": "string",
                  },
                  "secret": Object {
                    "nullable": true,
                    "type": "string",
                  },
                },
                "required": Array [
                  "clientId",
                ],
              },
              "windowsProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "adminPassword": Object {
                    "nullable": true,
                    "type": "string",
                  },
                  "adminUsername": Object {
                    "type": "string",
                  },
                },
                "required": Array [
                  "adminUsername",
                ],
              },
            },
            "x-ms-client-flatten": true,
          },
          "tags": Object {
            "additionalProperties": Object {
              "nullable": true,
              "type": "string",
            },
            "nullable": true,
            "type": "object",
          },
          "type": Object {
            "nullable": true,
            "readOnly": true,
            "type": "string",
          },
        },
        "required": Array [
          "location",
        ],
        "x-ms-azure-resource": true,
      },
    },
    "default": Object {
      "schema": Object {
        "$ref": "_1#/definitions/CloudError",
      },
    },
  },
}
`;

exports[`Live Validator Initialization Round trip validation of outer circular spec 1`] = `
Array [
  "/200/schema/properties/id",
  "/200/schema/properties/name",
  "/200/schema/properties/type",
  "/200/schema/properties/properties/properties/provisioningState",
  "/200/schema/properties/properties/properties/maxAgentPools",
  "/200/schema/properties/properties/properties/fqdn",
  "/200/schema/properties/properties/properties/agentPoolProfiles/items/properties/provisioningState",
  "/200/schema/properties/identity/properties/principalId",
  "/200/schema/properties/identity/properties/tenantId",
]
`;

exports[`Live Validator Initialization Round trip validation of outer circular spec 2`] = `
Object {
  "operationId": "ManagedClusters_Get",
  "parameters": Array [
    Object {
      "in": "query",
      "name": "api-version",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "client",
      Symbol(oav-schema-refself): "_1#/parameters/ApiVersionParameter",
    },
    Object {
      "in": "path",
      "name": "subscriptionId",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "client",
      Symbol(oav-schema-refself): "_1#/parameters/SubscriptionIdParameter",
    },
    Object {
      "in": "path",
      "minLength": 1,
      "name": "resourceGroupName",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method",
      Symbol(oav-schema-refself): "_1#/parameters/ResourceGroupNameParameter",
    },
    Object {
      "in": "path",
      "maxLength": 63,
      "minLength": 1,
      "name": "resourceName",
      "pattern": "^[a-zA-Z0-9]$|^[a-zA-Z0-9][-_a-zA-Z0-9]{0,61}[a-zA-Z0-9]$",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method",
      Symbol(oav-schema-refself): "_1#/parameters/ResourceNameParameter",
    },
  ],
  "responses": Object {
    "200": Object {
      "schema": Object {
        "additionalProperties": false,
        "nullable": true,
        "properties": Object {
          "id": Object {
            "nullable": true,
            "readOnly": true,
            "type": "string",
          },
          "identity": Object {
            "additionalProperties": false,
            "nullable": true,
            "properties": Object {
              "principalId": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "tenantId": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "type": Object {
                "enum": Array [
                  "SystemAssigned",
                  "None",
                ],
                "nullable": true,
                "type": "string",
                "x-ms-enum": Object {
                  "modelAsString": false,
                  "name": "ResourceIdentityType",
                },
              },
            },
          },
          "location": Object {
            "type": "string",
            "x-ms-mutability": Array [
              "read",
              "create",
            ],
          },
          "name": Object {
            "nullable": true,
            "readOnly": true,
            "type": "string",
          },
          "properties": Object {
            "additionalProperties": false,
            "nullable": true,
            "properties": Object {
              "aadProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "clientAppID": Object {
                    "type": "string",
                  },
                  "serverAppID": Object {
                    "type": "string",
                  },
                  "serverAppSecret": Object {
                    "nullable": true,
                    "type": "string",
                  },
                  "tenantID": Object {
                    "nullable": true,
                    "type": "string",
                  },
                },
                "required": Array [
                  "clientAppID",
                  "serverAppID",
                ],
              },
              "addonProfiles": Object {
                "additionalProperties": Object {
                  "additionalProperties": false,
                  "nullable": true,
                  "properties": Object {
                    "config": Object {
                      "additionalProperties": Object {
                        "nullable": true,
                        "type": "string",
                      },
                      "nullable": true,
                    },
                    "enabled": Object {
                      "type": "boolean",
                    },
                  },
                  "required": Array [
                    "enabled",
                  ],
                },
                "nullable": true,
              },
              "agentPoolProfiles": Object {
                "items": Object {
                  "additionalProperties": false,
                  "nullable": true,
                  "properties": Object {
                    "availabilityZones": Object {
                      "items": Object {
                        "nullable": true,
                        "type": "string",
                      },
                      "nullable": true,
                      "type": "array",
                    },
                    "count": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "enableAutoScaling": Object {
                      "nullable": true,
                      "type": "boolean",
                    },
                    "enableNodePublicIP": Object {
                      "nullable": true,
                      "type": "boolean",
                    },
                    "maxCount": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "maxPods": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "minCount": Object {
                      "format": "int32",
                      "nullable": true,
                      "type": "integer",
                    },
                    "name": Object {
                      "nullable": true,
                      "pattern": "^[a-z][a-z0-9]{0,11}$",
                      "type": "string",
                    },
                    "nodeTaints": Object {
                      "items": Object {
                        "nullable": true,
                        "type": "string",
                      },
                      "nullable": true,
                      "type": "array",
                    },
                    "orchestratorVersion": Object {
                      "nullable": true,
                      "type": "string",
                    },
                    "osDiskSizeGB": Object {
                      "format": "int32",
                      "maximum": 1023,
                      "minimum": 0,
                      "nullable": true,
                      "type": "integer",
                    },
                    "osType": Object {
                      "default": "Linux",
                      "enum": Array [
                        "Linux",
                        "Windows",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "OSType",
                      },
                    },
                    "provisioningState": Object {
                      "nullable": true,
                      "readOnly": true,
                      "type": "string",
                    },
                    "scaleSetEvictionPolicy": Object {
                      "default": "Delete",
                      "enum": Array [
                        "Delete",
                        "Deallocate",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "ScaleSetEvictionPolicy",
                      },
                    },
                    "scaleSetPriority": Object {
                      "default": "Regular",
                      "enum": Array [
                        "Low",
                        "Regular",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "ScaleSetPriority",
                      },
                    },
                    "type": Object {
                      "enum": Array [
                        "VirtualMachineScaleSets",
                        "AvailabilitySet",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "AgentPoolType",
                      },
                    },
                    "vmSize": Object {
                      "enum": Array [
                        "Standard_A1",
                        "Standard_A10",
                        "Standard_A11",
                        "Standard_A1_v2",
                        "Standard_A2",
                        "Standard_A2_v2",
                        "Standard_A2m_v2",
                        "Standard_A3",
                        "Standard_A4",
                        "Standard_A4_v2",
                        "Standard_A4m_v2",
                        "Standard_A5",
                        "Standard_A6",
                        "Standard_A7",
                        "Standard_A8",
                        "Standard_A8_v2",
                        "Standard_A8m_v2",
                        "Standard_A9",
                        "Standard_B2ms",
                        "Standard_B2s",
                        "Standard_B4ms",
                        "Standard_B8ms",
                        "Standard_D1",
                        "Standard_D11",
                        "Standard_D11_v2",
                        "Standard_D11_v2_Promo",
                        "Standard_D12",
                        "Standard_D12_v2",
                        "Standard_D12_v2_Promo",
                        "Standard_D13",
                        "Standard_D13_v2",
                        "Standard_D13_v2_Promo",
                        "Standard_D14",
                        "Standard_D14_v2",
                        "Standard_D14_v2_Promo",
                        "Standard_D15_v2",
                        "Standard_D16_v3",
                        "Standard_D16s_v3",
                        "Standard_D1_v2",
                        "Standard_D2",
                        "Standard_D2_v2",
                        "Standard_D2_v2_Promo",
                        "Standard_D2_v3",
                        "Standard_D2s_v3",
                        "Standard_D3",
                        "Standard_D32_v3",
                        "Standard_D32s_v3",
                        "Standard_D3_v2",
                        "Standard_D3_v2_Promo",
                        "Standard_D4",
                        "Standard_D4_v2",
                        "Standard_D4_v2_Promo",
                        "Standard_D4_v3",
                        "Standard_D4s_v3",
                        "Standard_D5_v2",
                        "Standard_D5_v2_Promo",
                        "Standard_D64_v3",
                        "Standard_D64s_v3",
                        "Standard_D8_v3",
                        "Standard_D8s_v3",
                        "Standard_DS1",
                        "Standard_DS11",
                        "Standard_DS11_v2",
                        "Standard_DS11_v2_Promo",
                        "Standard_DS12",
                        "Standard_DS12_v2",
                        "Standard_DS12_v2_Promo",
                        "Standard_DS13",
                        "Standard_DS13-2_v2",
                        "Standard_DS13-4_v2",
                        "Standard_DS13_v2",
                        "Standard_DS13_v2_Promo",
                        "Standard_DS14",
                        "Standard_DS14-4_v2",
                        "Standard_DS14-8_v2",
                        "Standard_DS14_v2",
                        "Standard_DS14_v2_Promo",
                        "Standard_DS15_v2",
                        "Standard_DS1_v2",
                        "Standard_DS2",
                        "Standard_DS2_v2",
                        "Standard_DS2_v2_Promo",
                        "Standard_DS3",
                        "Standard_DS3_v2",
                        "Standard_DS3_v2_Promo",
                        "Standard_DS4",
                        "Standard_DS4_v2",
                        "Standard_DS4_v2_Promo",
                        "Standard_DS5_v2",
                        "Standard_DS5_v2_Promo",
                        "Standard_E16_v3",
                        "Standard_E16s_v3",
                        "Standard_E2_v3",
                        "Standard_E2s_v3",
                        "Standard_E32-16s_v3",
                        "Standard_E32-8s_v3",
                        "Standard_E32_v3",
                        "Standard_E32s_v3",
                        "Standard_E4_v3",
                        "Standard_E4s_v3",
                        "Standard_E64-16s_v3",
                        "Standard_E64-32s_v3",
                        "Standard_E64_v3",
                        "Standard_E64s_v3",
                        "Standard_E8_v3",
                        "Standard_E8s_v3",
                        "Standard_F1",
                        "Standard_F16",
                        "Standard_F16s",
                        "Standard_F16s_v2",
                        "Standard_F1s",
                        "Standard_F2",
                        "Standard_F2s",
                        "Standard_F2s_v2",
                        "Standard_F32s_v2",
                        "Standard_F4",
                        "Standard_F4s",
                        "Standard_F4s_v2",
                        "Standard_F64s_v2",
                        "Standard_F72s_v2",
                        "Standard_F8",
                        "Standard_F8s",
                        "Standard_F8s_v2",
                        "Standard_G1",
                        "Standard_G2",
                        "Standard_G3",
                        "Standard_G4",
                        "Standard_G5",
                        "Standard_GS1",
                        "Standard_GS2",
                        "Standard_GS3",
                        "Standard_GS4",
                        "Standard_GS4-4",
                        "Standard_GS4-8",
                        "Standard_GS5",
                        "Standard_GS5-16",
                        "Standard_GS5-8",
                        "Standard_H16",
                        "Standard_H16m",
                        "Standard_H16mr",
                        "Standard_H16r",
                        "Standard_H8",
                        "Standard_H8m",
                        "Standard_L16s",
                        "Standard_L32s",
                        "Standard_L4s",
                        "Standard_L8s",
                        "Standard_M128-32ms",
                        "Standard_M128-64ms",
                        "Standard_M128ms",
                        "Standard_M128s",
                        "Standard_M64-16ms",
                        "Standard_M64-32ms",
                        "Standard_M64ms",
                        "Standard_M64s",
                        "Standard_NC12",
                        "Standard_NC12s_v2",
                        "Standard_NC12s_v3",
                        "Standard_NC24",
                        "Standard_NC24r",
                        "Standard_NC24rs_v2",
                        "Standard_NC24rs_v3",
                        "Standard_NC24s_v2",
                        "Standard_NC24s_v3",
                        "Standard_NC6",
                        "Standard_NC6s_v2",
                        "Standard_NC6s_v3",
                        "Standard_ND12s",
                        "Standard_ND24rs",
                        "Standard_ND24s",
                        "Standard_ND6s",
                        "Standard_NV12",
                        "Standard_NV24",
                        "Standard_NV6",
                      ],
                      "nullable": true,
                      "type": "string",
                      "x-ms-enum": Object {
                        "modelAsString": true,
                        "name": "ContainerServiceVMSizeTypes",
                      },
                    },
                    "vnetSubnetID": Object {
                      "nullable": true,
                      "type": "string",
                    },
                  },
                  "required": Array [
                    "name",
                  ],
                },
                "nullable": true,
                "type": "array",
              },
              "apiServerAccessProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "authorizedIPRanges": Object {
                    "items": Object {
                      "nullable": true,
                      "type": "string",
                    },
                    "nullable": true,
                    "type": "array",
                  },
                  "enablePrivateCluster": Object {
                    "nullable": true,
                    "type": "boolean",
                  },
                },
              },
              "dnsPrefix": Object {
                "nullable": true,
                "type": "string",
              },
              "enablePodSecurityPolicy": Object {
                "nullable": true,
                "type": "boolean",
              },
              "enableRBAC": Object {
                "nullable": true,
                "type": "boolean",
              },
              "fqdn": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "kubernetesVersion": Object {
                "nullable": true,
                "type": "string",
              },
              "linuxProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "adminUsername": Object {
                    "pattern": "^[A-Za-z][-A-Za-z0-9_]*$",
                    "type": "string",
                  },
                  "ssh": Object {
                    "additionalProperties": false,
                    "properties": Object {
                      "publicKeys": Object {
                        "items": Object {
                          "additionalProperties": false,
                          "nullable": true,
                          "properties": Object {
                            "keyData": Object {
                              "type": "string",
                            },
                          },
                          "required": Array [
                            "keyData",
                          ],
                        },
                        "type": "array",
                      },
                    },
                    "required": Array [
                      "publicKeys",
                    ],
                  },
                },
                "required": Array [
                  "adminUsername",
                  "ssh",
                ],
              },
              "maxAgentPools": Object {
                "format": "int32",
                "nullable": true,
                "readOnly": true,
                "type": "integer",
              },
              "networkProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "dnsServiceIP": Object {
                    "default": "10.0.0.10",
                    "nullable": true,
                    "pattern": "^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",
                    "type": "string",
                  },
                  "dockerBridgeCidr": Object {
                    "default": "172.17.0.1/16",
                    "nullable": true,
                    "pattern": "^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$",
                    "type": "string",
                  },
                  "loadBalancerProfile": Object {
                    "additionalProperties": false,
                    "nullable": true,
                    "properties": Object {
                      "effectiveOutboundIPs": Object {
                        "items": Object {
                          "additionalProperties": false,
                          "nullable": true,
                          "properties": Object {
                            "id": Object {
                              "nullable": true,
                              "type": "string",
                            },
                          },
                        },
                        "nullable": true,
                        "type": "array",
                      },
                      "managedOutboundIPs": Object {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": Object {
                          "count": Object {
                            "default": 1,
                            "format": "int32",
                            "maximum": 100,
                            "minimum": 1,
                            "nullable": true,
                            "type": "integer",
                          },
                        },
                      },
                      "outboundIPPrefixes": Object {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": Object {
                          "publicIPPrefixes": Object {
                            "items": Object {
                              "additionalProperties": false,
                              "nullable": true,
                              "properties": Object {
                                "id": Object {
                                  "nullable": true,
                                  "type": "string",
                                },
                              },
                            },
                            "nullable": true,
                            "type": "array",
                          },
                        },
                      },
                      "outboundIPs": Object {
                        "additionalProperties": false,
                        "nullable": true,
                        "properties": Object {
                          "publicIPs": Object {
                            "items": Object {
                              "additionalProperties": false,
                              "nullable": true,
                              "properties": Object {
                                "id": Object {
                                  "nullable": true,
                                  "type": "string",
                                },
                              },
                            },
                            "nullable": true,
                            "type": "array",
                          },
                        },
                      },
                    },
                  },
                  "loadBalancerSku": Object {
                    "enum": Array [
                      "standard",
                      "basic",
                    ],
                    "nullable": true,
                    "type": "string",
                    "x-ms-enum": Object {
                      "modelAsString": true,
                      "name": "loadBalancerSku",
                    },
                  },
                  "networkPlugin": Object {
                    "default": "kubenet",
                    "enum": Array [
                      "azure",
                      "kubenet",
                    ],
                    "nullable": true,
                    "type": "string",
                    "x-ms-enum": Object {
                      "modelAsString": true,
                      "name": "NetworkPlugin",
                    },
                  },
                  "networkPolicy": Object {
                    "enum": Array [
                      "calico",
                      "azure",
                    ],
                    "nullable": true,
                    "type": "string",
                    "x-ms-enum": Object {
                      "modelAsString": true,
                      "name": "NetworkPolicy",
                    },
                  },
                  "podCidr": Object {
                    "default": "10.244.0.0/16",
                    "nullable": true,
                    "pattern": "^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$",
                    "type": "string",
                  },
                  "serviceCidr": Object {
                    "default": "10.0.0.0/16",
                    "nullable": true,
                    "pattern": "^([0-9]{1,3}\\\\.){3}[0-9]{1,3}(\\\\/([0-9]|[1-2][0-9]|3[0-2]))?$",
                    "type": "string",
                  },
                },
              },
              "nodeResourceGroup": Object {
                "nullable": true,
                "type": "string",
              },
              "provisioningState": Object {
                "nullable": true,
                "readOnly": true,
                "type": "string",
              },
              "servicePrincipalProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "clientId": Object {
                    "type": "string",
                  },
                  "secret": Object {
                    "nullable": true,
                    "type": "string",
                  },
                },
                "required": Array [
                  "clientId",
                ],
              },
              "windowsProfile": Object {
                "additionalProperties": false,
                "nullable": true,
                "properties": Object {
                  "adminPassword": Object {
                    "nullable": true,
                    "type": "string",
                  },
                  "adminUsername": Object {
                    "type": "string",
                  },
                },
                "required": Array [
                  "adminUsername",
                ],
              },
            },
            "x-ms-client-flatten": true,
          },
          "tags": Object {
            "additionalProperties": Object {
              "nullable": true,
              "type": "string",
            },
            "nullable": true,
            "type": "object",
          },
          "type": Object {
            "nullable": true,
            "readOnly": true,
            "type": "string",
          },
        },
        "required": Array [
          "location",
        ],
        "x-ms-azure-resource": true,
      },
    },
    "default": Object {
      "schema": Object {
        "$ref": "_1#/definitions/CloudError",
      },
    },
  },
}
`;

exports[`Live Validator Initialization readonly properties should not cause error 1`] = `
Object {
  "errors": Array [],
  "isSuccessful": true,
  "operationInfo": Object {
    "apiVersion": "2021-11-01",
    "operationId": "VirtualMachines_CreateOrUpdate",
  },
  "runtimeException": undefined,
}
`;

// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`postmanCollectionGenerator should generate PostmanCollection - appconfig data plane 1`] = `
Object {
  "event": Array [],
  "info": Object {
    "_postman_id": "jestRunId",
    "description": Object {
      "content": "{\\"apiScenarioFilePath\\":\\"Microsoft.AppConfiguration/stable/1.0/scenarios/test.yaml\\",\\"swaggerFilePaths\\":[\\"Microsoft.AppConfiguration/stable/1.0/appconfiguration.json\\"]}",
      "type": "text/plain",
    },
    "name": "test",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": undefined,
  },
  "item": Array [
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "nprcrj",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
              "pm.variables.set(\\"key\\", \\"key-1954625347\\");",
              "pm.variables.set(\\"label\\", \\"test_label\\");",
              "pm.variables.set(\\"entity\\", {\\"value\\":\\"test_value\\",\\"content_type\\":\\"test_content_type\\",\\"tags\\":{\\"tag1\\":\\"value1\\",\\"tag2\\":\\"value2\\"}});",
              "pm.variables.set(\\"If-None-Match\\", \\"*\\");",
            ],
            "id": "tgp8uv",
            "type": "text/javascript",
          },
        },
      ],
      "id": "r4of8l",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue\\",\\"step\\":\\"PutKeyValue\\"}",
          "event": Array [
            Object {
              "id": "zq9w6n",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "8gypdh",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "3747vc",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "clnzjc",
                "type": "text/javascript",
              },
            },
          ],
          "id": "gzre88",
          "name": "PutKeyValue",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"test_value\\",
  \\"content_type\\": \\"test_content_type\\",
  \\"tags\\": {
    \\"tag1\\": \\"value1\\",
    \\"tag2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "If-None-Match",
                "value": "{{If-None-Match}}",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue_1\\",\\"step\\":\\"PutKeyValue_1\\"}",
          "event": Array [
            Object {
              "id": "oipyp5",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "k8hcud",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "39l4a3",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([412]);",
                  "if (pm.response.code === 412) {
}
",
                  "});",
                ],
                "id": "g4l6nv",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9120qs",
          "name": "PutKeyValue_1",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"test_value\\",
  \\"content_type\\": \\"test_content_type\\",
  \\"tags\\": {
    \\"tag1\\": \\"value1\\",
    \\"tag2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3Nzgy",
              },
              Object {
                "key": "If-None-Match",
                "value": "{{If-None-Match}}",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue\\",\\"step\\":\\"DeleteKeyValue\\"}",
          "event": Array [
            Object {
              "id": "zvuzjs",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "gbupa4",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "1gju0k",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "j55iye",
                "type": "text/javascript",
              },
            },
          ],
          "id": "mcbyik",
          "name": "DeleteKeyValue",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3Nzgy",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "AddExistingSetting",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "hlqn5m",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
              "pm.variables.set(\\"key\\", \\".appconfig.featureflag/feature 1306740339\\");",
              "pm.variables.set(\\"entity\\", {\\"value\\":\\"{\\\\\\"id\\\\\\":\\\\\\"feature 1306740339\\\\\\",\\\\\\"description\\\\\\":\\\\\\"Feature description\\\\\\",\\\\\\"display_name\\\\\\":\\\\\\"Feature display name\\\\\\",\\\\\\"enabled\\\\\\":true,\\\\\\"conditions\\\\\\":{\\\\\\"client_filters\\\\\\":[{\\\\\\"name\\\\\\":\\\\\\"FilterA\\\\\\",\\\\\\"parameters\\\\\\":{}},{\\\\\\"name\\\\\\":\\\\\\"Microsoft.TimeWindow\\\\\\",\\\\\\"parameters\\\\\\":{\\\\\\"Start\\\\\\":\\\\\\"Wed, 01 May 2019 13:59:59 GMT\\\\\\",\\\\\\"End\\\\\\":\\\\\\"Mon, 01 July 2019 00:00:00 GMT\\\\\\"}}]}}\\",\\"content_type\\":\\"application/vnd.microsoft.appconfig.ff+json;charset=utf-8\\",\\"tags\\":{}});",
            ],
            "id": "7wi32c",
            "type": "text/javascript",
          },
        },
      ],
      "id": "hfy1hi",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue\\",\\"step\\":\\"PutKeyValue\\"}",
          "event": Array [
            Object {
              "id": "4fy274",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "vov58h",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "3l45xk",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "1ueh28",
                "type": "text/javascript",
              },
            },
          ],
          "id": "1rcvet",
          "name": "PutKeyValue",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"{\\\\\\"id\\\\\\":\\\\\\"feature 1306740339\\\\\\",\\\\\\"description\\\\\\":\\\\\\"Feature description\\\\\\",\\\\\\"display_name\\\\\\":\\\\\\"Feature display name\\\\\\",\\\\\\"enabled\\\\\\":true,\\\\\\"conditions\\\\\\":{\\\\\\"client_filters\\\\\\":[{\\\\\\"name\\\\\\":\\\\\\"FilterA\\\\\\",\\\\\\"parameters\\\\\\":{}},{\\\\\\"name\\\\\\":\\\\\\"Microsoft.TimeWindow\\\\\\",\\\\\\"parameters\\\\\\":{\\\\\\"Start\\\\\\":\\\\\\"Wed, 01 May 2019 13:59:59 GMT\\\\\\",\\\\\\"End\\\\\\":\\\\\\"Mon, 01 July 2019 00:00:00 GMT\\\\\\"}}]}}\\",
  \\"content_type\\": \\"application/vnd.microsoft.appconfig.ff+json;charset=utf-8\\",
  \\"tags\\": {}
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "If-None-Match",
                "value": "*",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "rr{{key_encoded}}_%23%24%25{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue_1\\",\\"step\\":\\"PutKeyValue_1\\"}",
          "event": Array [
            Object {
              "id": "6w00ic",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"entity\\", {\\"value\\":\\"{\\\\\\"id\\\\\\":\\\\\\"feature 1306740339\\\\\\",\\\\\\"description\\\\\\":\\\\\\"Feature description\\\\\\",\\\\\\"display_name\\\\\\":\\\\\\"Feature display name\\\\\\",\\\\\\"enabled\\\\\\":false,\\\\\\"conditions\\\\\\":{\\\\\\"client_filters\\\\\\":[{\\\\\\"name\\\\\\":\\\\\\"FilterA\\\\\\",\\\\\\"parameters\\\\\\":{}},{\\\\\\"name\\\\\\":\\\\\\"Microsoft.TimeWindow\\\\\\",\\\\\\"parameters\\\\\\":{\\\\\\"Start\\\\\\":\\\\\\"Wed, 01 May 2019 13:59:59 GMT\\\\\\",\\\\\\"End\\\\\\":\\\\\\"Mon, 01 July 2019 00:00:00 GMT\\\\\\"}}]}}\\",\\"content_type\\":\\"application/vnd.microsoft.appconfig.ff+json;charset=utf-8\\",\\"tags\\":{},\\"etag\\":\\"Xw8kFsc-oaEk_nXNPXOWkAaCE6de_zAgyLgPiI0k-AY\\"});",
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "m388ep",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "qq5z84",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "j917fd",
                "type": "text/javascript",
              },
            },
          ],
          "id": "3q0yb6",
          "name": "PutKeyValue_1",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"{\\\\\\"id\\\\\\":\\\\\\"feature 1306740339\\\\\\",\\\\\\"description\\\\\\":\\\\\\"Feature description\\\\\\",\\\\\\"display_name\\\\\\":\\\\\\"Feature display name\\\\\\",\\\\\\"enabled\\\\\\":false,\\\\\\"conditions\\\\\\":{\\\\\\"client_filters\\\\\\":[{\\\\\\"name\\\\\\":\\\\\\"FilterA\\\\\\",\\\\\\"parameters\\\\\\":{}},{\\\\\\"name\\\\\\":\\\\\\"Microsoft.TimeWindow\\\\\\",\\\\\\"parameters\\\\\\":{\\\\\\"Start\\\\\\":\\\\\\"Wed, 01 May 2019 13:59:59 GMT\\\\\\",\\\\\\"End\\\\\\":\\\\\\"Mon, 01 July 2019 00:00:00 GMT\\\\\\"}}]}}\\",
  \\"content_type\\": \\"application/vnd.microsoft.appconfig.ff+json;charset=utf-8\\",
  \\"tags\\": {},
  \\"etag\\": \\"Xw8kFsc-oaEk_nXNPXOWkAaCE6de_zAgyLgPiI0k-AY\\"
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3ODE2",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue\\",\\"step\\":\\"DeleteKeyValue\\"}",
          "event": Array [
            Object {
              "id": "un6yyw",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "igg58r",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "zfkej6",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "9e4snq",
                "type": "text/javascript",
              },
            },
          ],
          "id": "rxgyxc",
          "name": "DeleteKeyValue",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3ODE4",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "CanAddAndUpdateFeatureFlag",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "h1l4hw",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutLock\\",\\"itemName\\":\\"PutLock\\",\\"step\\":\\"PutLock\\"}",
          "event": Array [
            Object {
              "id": "cb8v3t",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
                ],
                "id": "x7qdfp",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "9vqoea",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([404]);",
                  "if (pm.response.code === 404) {
}
",
                  "});",
                ],
                "id": "9atymt",
                "type": "text/javascript",
              },
            },
          ],
          "id": "ezqs5q",
          "name": "PutLock",
          "request": Object {
            "body": Object {},
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "locks",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "key-199017029",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "ClearReadOnlySettingNotFound",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "jhzmpv",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
              "pm.variables.set(\\"key\\", \\"key-2141872649\\");",
              "pm.variables.set(\\"label\\", \\"test_label\\");",
              "pm.variables.set(\\"entity\\", {\\"value\\":\\"test_value\\",\\"content_type\\":\\"test_content_type\\",\\"tags\\":{\\"tag1\\":\\"value1\\",\\"tag2\\":\\"value2\\"}});",
            ],
            "id": "x6exws",
            "type": "text/javascript",
          },
        },
      ],
      "id": "d39qgw",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue\\",\\"step\\":\\"PutKeyValue\\"}",
          "event": Array [
            Object {
              "id": "bhuvqx",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "le21m4",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "7oxzx1",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "ssi2a8",
                "type": "text/javascript",
              },
            },
          ],
          "id": "6qbw4d",
          "name": "PutKeyValue",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"test_value\\",
  \\"content_type\\": \\"test_content_type\\",
  \\"tags\\": {
    \\"tag1\\": \\"value1\\",
    \\"tag2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "If-None-Match",
                "value": "*",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue_1\\",\\"step\\":\\"PutKeyValue_1\\"}",
          "event": Array [
            Object {
              "id": "5sx5dw",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"entity\\", {\\"value\\":\\"new_value\\",\\"content_type\\":\\"test_content_type\\",\\"tags\\":{\\"tag1\\":\\"value1\\",\\"tag2\\":\\"value2\\"}});",
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "49cuyt",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "8ew1jk",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "x6oaag",
                "type": "text/javascript",
              },
            },
          ],
          "id": "cdpopn",
          "name": "PutKeyValue_1",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"new_value\\",
  \\"content_type\\": \\"test_content_type\\",
  \\"tags\\": {
    \\"tag1\\": \\"value1\\",
    \\"tag2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3OTY0",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteLock\\",\\"itemName\\":\\"DeleteLock\\",\\"step\\":\\"DeleteLock\\"}",
          "event": Array [
            Object {
              "id": "db187u",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "2tccjb",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "b9q1ra",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([412]);",
                  "if (pm.response.code === 412) {
}
",
                  "});",
                ],
                "id": "3zgew6",
                "type": "text/javascript",
              },
            },
          ],
          "id": "i544h5",
          "name": "DeleteLock",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3OTY1",
              },
              Object {
                "key": "If-Match",
                "value": "\\"LgZO1vXg1qh1tBjyRitcoYSFTRUkXB8XdxsHMM1AzrI\\"",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "locks",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue\\",\\"step\\":\\"DeleteKeyValue\\"}",
          "event": Array [
            Object {
              "id": "6rfjty",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "hvl7jw",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "odc2fc",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "iqxxs7",
                "type": "text/javascript",
              },
            },
          ],
          "id": "wpbvc4",
          "name": "DeleteKeyValue",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3OTY1",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "ConfigurationClient_SetReadOnly_OnlyIfUnchanged_Modified_False_",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "h0fgel",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
              "pm.variables.set(\\"key\\", \\"key-1505928816\\");",
              "pm.variables.set(\\"label\\", \\"test_label\\");",
              "pm.variables.set(\\"entity\\", {\\"value\\":\\"test_value\\",\\"content_type\\":\\"test_content_type\\",\\"tags\\":{\\"tag1\\":\\"value1\\",\\"tag2\\":\\"value2\\"}});",
            ],
            "id": "p03jp7",
            "type": "text/javascript",
          },
        },
      ],
      "id": "yh0zn8",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue\\",\\"step\\":\\"PutKeyValue\\"}",
          "event": Array [
            Object {
              "id": "j58bgv",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "dm09uw",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "q1cfqt",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "9ezdsu",
                "type": "text/javascript",
              },
            },
          ],
          "id": "k97wbk",
          "name": "PutKeyValue",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"test_value\\",
  \\"content_type\\": \\"test_content_type\\",
  \\"tags\\": {
    \\"tag1\\": \\"value1\\",
    \\"tag2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "If-None-Match",
                "value": "*",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue_1\\",\\"step\\":\\"PutKeyValue_1\\"}",
          "event": Array [
            Object {
              "id": "lk4mhm",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"entity\\", {\\"value\\":\\"new_value\\",\\"content_type\\":\\"test_content_type\\",\\"tags\\":{\\"tag1\\":\\"value1\\",\\"tag2\\":\\"value2\\"}});",
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "ivu9xy",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "mge3qz",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "spylrr",
                "type": "text/javascript",
              },
            },
          ],
          "id": "vm8psu",
          "name": "PutKeyValue_1",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"new_value\\",
  \\"content_type\\": \\"test_content_type\\",
  \\"tags\\": {
    \\"tag1\\": \\"value1\\",
    \\"tag2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3ODMw",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue\\",\\"step\\":\\"DeleteKeyValue\\"}",
          "event": Array [
            Object {
              "id": "eq5yyi",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "kqos97",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "bsqg1o",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([412]);",
                  "if (pm.response.code === 412) {
}
",
                  "});",
                ],
                "id": "a7lkxi",
                "type": "text/javascript",
              },
            },
          ],
          "id": "qh9z16",
          "name": "DeleteKeyValue",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3ODMx",
              },
              Object {
                "key": "If-Match",
                "value": "\\"kcfjab4MYd1eDj2XrZ6aCxYLdFVmVmY5eKoLO5VmG70\\"",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue_1\\",\\"step\\":\\"DeleteKeyValue_1\\"}",
          "event": Array [
            Object {
              "id": "tyolxx",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                  "pm.variables.set(\\"label_encoded\\", encodeURIComponent(pm.variables.get(\\"label\\")));",
                ],
                "id": "c9wzyn",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "gsyqal",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "wlgh2r",
                "type": "text/javascript",
              },
            },
          ],
          "id": "65xm09",
          "name": "DeleteKeyValue_1",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3ODMx",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "{{label_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "DeleteIfUnchangedSettingModified",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "sp8ib7",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
            ],
            "id": "ew9nh8",
            "type": "text/javascript",
          },
        },
      ],
      "id": "d9yng9",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue\\",\\"step\\":\\"PutKeyValue\\"}",
          "event": Array [
            Object {
              "id": "bw1q38",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "yzy1ec",
                "type": "text/javascript",
              },
            },
          ],
          "id": "2vc31r",
          "name": "PutKeyValue",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"test_value\\",
  \\"content_type\\": \\"test_content_type\\",
  \\"tags\\": {
    \\"tag1\\": \\"value1\\",
    \\"tag2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "test_label",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "key-2094909004",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"GetKeyValues\\",\\"itemName\\":\\"GetKeyValues\\",\\"step\\":\\"GetKeyValues\\"}",
          "event": Array [
            Object {
              "id": "ehebqq",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "zo75y7",
                "type": "text/javascript",
              },
            },
          ],
          "id": "l0fzps",
          "name": "GetKeyValues",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjE2MDIy",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue\\",\\"step\\":\\"DeleteKeyValue\\"}",
          "event": Array [
            Object {
              "id": "odehko",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "col7eq",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9quvnq",
          "name": "DeleteKeyValue",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjE2MDIy",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "test_label",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "key-2094909004",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetBatchSettingAny",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "76ivhq",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
              "pm.variables.set(\\"key\\", \\"keyFields-194380201\\");",
            ],
            "id": "b3xozx",
            "type": "text/javascript",
          },
        },
      ],
      "id": "f9zxy5",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue\\",\\"step\\":\\"PutKeyValue\\"}",
          "event": Array [
            Object {
              "id": "86w5gc",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "fujl6i",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "wa7yg9",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "ugk6h2",
                "type": "text/javascript",
              },
            },
          ],
          "id": "8ef99f",
          "name": "PutKeyValue",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"my_value\\",
  \\"content_type\\": null,
  \\"tags\\": {}
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
              Object {
                "key": "If-None-Match",
                "value": "*",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "my_label",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"GetKeyValues\\",\\"itemName\\":\\"GetKeyValues\\",\\"step\\":\\"GetKeyValues\\"}",
          "event": Array [
            Object {
              "id": "hty0qz",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "qbyj9c",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "56m9l3",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "2r0mc4",
                "type": "text/javascript",
              },
            },
          ],
          "id": "20gl49",
          "name": "GetKeyValues",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3ODg4",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
              ],
              "query": Array [
                Object {
                  "key": "key",
                  "value": "{{key_encoded}}",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
                Object {
                  "key": "$Select",
                  "value": "key%2C%20label%2C%20etag",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue\\",\\"step\\":\\"DeleteKeyValue\\"}",
          "event": Array [
            Object {
              "id": "182s89",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "jy1tzu",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "x0t20h",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "y8jsuq",
                "type": "text/javascript",
              },
            },
          ],
          "id": "hakk8a",
          "name": "DeleteKeyValue",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3ODg4",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "label",
                  "value": "my_label",
                },
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetBatchSettingWithFields",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "v9jgfn",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
              "pm.variables.set(\\"key\\", \\"~\`!@#$^&()_+=[]{}|;\\\\\\"'<>./--996999594\\");",
            ],
            "id": "vwghxn",
            "type": "text/javascript",
          },
        },
      ],
      "id": "tdrxs5",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutKeyValue\\",\\"itemName\\":\\"PutKeyValue\\",\\"step\\":\\"PutKeyValue\\"}",
          "event": Array [
            Object {
              "id": "r3ps8d",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "jt84jj",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "i2mz21",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "fmkiq3",
                "type": "text/javascript",
              },
            },
          ],
          "id": "c6vfm3",
          "name": "PutKeyValue",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"value\\": \\"value-~\`!@#$^&()_+=[]{}|;\\\\\\"'<>./-\\",
  \\"content_type\\": null,
  \\"tags\\": {}
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/vnd.microsoft.appconfig.kv+json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeleteKeyValue\\",\\"itemName\\":\\"DeleteKeyValue\\",\\"step\\":\\"DeleteKeyValue\\"}",
          "event": Array [
            Object {
              "id": "f0r418",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"key_encoded\\", encodeURIComponent(pm.variables.get(\\"key\\")));",
                ],
                "id": "mibqod",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "kiosgn",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "1ghyu8",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9sf2c9",
          "name": "DeleteKeyValue",
          "request": Object {
            "body": Object {},
            "header": Array [
              Object {
                "key": "Sync-Token",
                "value": "zAJw6V16=MjoxNyM5MjA3OTEy",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "kv",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "{{key_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetSettingSpecialCharacters",
    },
    Object {
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "ikm5qg",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"PutLock\\",\\"itemName\\":\\"PutLock\\",\\"step\\":\\"PutLock\\"}",
          "event": Array [
            Object {
              "id": "abct7z",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"endpoint\\", \\"https://t-dnnwaokochaappconfig-azconfig-net.azconfig.io\\");",
                ],
                "id": "rqqhvq",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "kia3ys",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([404]);",
                  "if (pm.response.code === 404) {
}
",
                  "});",
                ],
                "id": "9x7w9a",
                "type": "text/javascript",
              },
            },
          ],
          "id": "btr6ql",
          "name": "PutLock",
          "request": Object {
            "body": Object {},
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://t-dnnwaokochaappconfig-azconfig-net",
                "azconfig",
                "io",
              ],
              "path": Array [
                "locks",
                ":key",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "1.0",
                },
              ],
              "variable": Array [
                Object {
                  "key": "key",
                  "type": "any",
                  "value": "key-1514776256",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "SetReadOnlySettingNotFound",
    },
  ],
  "variable": Array [
    Object {
      "key": "subscriptionId",
      "type": "any",
    },
    Object {
      "key": "resourceGroupName",
      "type": "any",
    },
    Object {
      "key": "location",
      "type": "any",
    },
    Object {
      "key": "client_id",
      "type": "any",
    },
    Object {
      "key": "client_secret",
      "type": "any",
    },
    Object {
      "key": "tenantId",
      "type": "any",
    },
    Object {
      "key": "x_enable_auth",
      "type": "any",
      "value": "true",
    },
  ],
}
`;

exports[`postmanCollectionGenerator should generate PostmanCollection - cognitiveservices language data plane 1`] = `
Object {
  "auth": Object {
    "bearer": Array [
      Object {
        "key": "token",
        "type": "string",
        "value": "{{x_bearer_token_0}}",
      },
    ],
    "type": "bearer",
  },
  "event": Array [
    Object {
      "id": "1rcvet",
      "listen": "prerequest",
      "script": Object {
        "exec": Array [
          "
if (pm.variables.get(\\"x_enable_auth\\") !== \\"true\\") {
    return;
}
if (
    !pm.variables.get(\\"x_bearer_token_0\\") ||
    Date.now() >
    new Date(pm.variables.get(\\"x_bearer_token_0_expires_on\\") * 1000)
) {
    let vars = [\\"client_id\\", \\"client_secret\\", \\"tenantId\\"];
    vars.forEach(function (item, index, array) {
        pm.expect(
            pm.variables.get(item),
            item + \\" variable not set\\"
        ).to.not.be.undefined;
        pm.expect(pm.variables.get(item), item + \\" variable not set\\").to.not.be.empty;
    });
    pm.sendRequest(
        {
            url:
                \\"https://login.microsoftonline.com/\\" +
                pm.variables.get(\\"tenantId\\") +
                \\"/oauth2/v2.0/token\\",
            method: \\"POST\\",
            header: \\"Content-Type: application/x-www-form-urlencoded\\",
            body: {
                mode: \\"urlencoded\\",
                urlencoded: [
                    { key: \\"grant_type\\", value: \\"client_credentials\\", disabled: false },
                    {
                        key: \\"client_id\\",
                        value: pm.variables.get(\\"client_id\\"),
                        disabled: false,
                    },
                    {
                        key: \\"client_secret\\",
                        value: pm.variables.get(\\"client_secret\\"),
                        disabled: false,
                    },
                    { key: \\"scope\\", value: \\"https://cognitiveservices.azure.com/.default\\", disabled: false },
                ],
            },
        },
        function (err, res) {
            if (err) {
                console.log(err);
            } else {
                let resJson = res.json();
                pm.environment.set(
                    \\"x_bearer_token_0_expires_on\\",
                    resJson.expires_in + Math.floor(Date.now() / 1000)
                );
                pm.environment.set(\\"x_bearer_token_0\\", resJson.access_token);
            }
        }
    );
}",
        ],
        "id": "4fy274",
        "type": "text/javascript",
      },
    },
  ],
  "info": Object {
    "_postman_id": "jestRunId",
    "description": Object {
      "content": "{\\"apiScenarioFilePath\\":\\"Language/preview/2022-10-01-preview/scenarios/ConversationAuthoring.yaml\\",\\"swaggerFilePaths\\":[\\"Language/preview/2022-10-01-preview/analyzeconversations-authoring.json\\",\\"Language/preview/2022-10-01-preview/analyzetext.json\\"]}",
      "type": "text/plain",
    },
    "name": "ConversationAuthoring",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": undefined,
  },
  "item": Array [
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "vov58h",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"step\\":\\"ConversationalAnalysisAuthoring_ListProjects\\"}",
          "event": Array [
            Object {
              "id": "1ueh28",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "3q0yb6",
                "type": "text/javascript",
              },
            },
          ],
          "id": "3l45xk",
          "name": "ConversationalAnalysisAuthoring_ListProjects",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetProjects",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "6w00ic",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"step\\":\\"ConversationalAnalysisAuthoring_ListProjects\\"}",
          "event": Array [
            Object {
              "id": "qq5z84",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "j917fd",
                "type": "text/javascript",
              },
            },
          ],
          "id": "m388ep",
          "name": "ConversationalAnalysisAuthoring_ListProjects",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetProjectsAsync",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "rxgyxc",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"step\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\"}",
          "event": Array [
            Object {
              "id": "igg58r",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "zfkej6",
                "type": "text/javascript",
              },
            },
          ],
          "id": "un6yyw",
          "name": "ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
                "global",
                "prebuilt-entities",
              ],
              "query": Array [
                Object {
                  "key": "language",
                  "value": "es",
                },
                Object {
                  "key": "multilingual",
                  "value": "false",
                },
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetSupportedLanguageSpecificPrebuiltEntities",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "9e4snq",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"step\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\"}",
          "event": Array [
            Object {
              "id": "ezqs5q",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "cb8v3t",
                "type": "text/javascript",
              },
            },
          ],
          "id": "h1l4hw",
          "name": "ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
                "global",
                "prebuilt-entities",
              ],
              "query": Array [
                Object {
                  "key": "language",
                  "value": "es",
                },
                Object {
                  "key": "multilingual",
                  "value": "false",
                },
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetSupportedLanguageSpecificPrebuiltEntitiesAsync",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "x7qdfp",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"step\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\"}",
          "event": Array [
            Object {
              "id": "9atymt",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "d39qgw",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9vqoea",
          "name": "ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
                "global",
                "prebuilt-entities",
              ],
              "query": Array [
                Object {
                  "key": "multilingual",
                  "value": "true",
                },
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetSupportedMultilingualPrebuiltEntities",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "jhzmpv",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\",\\"step\\":\\"ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities\\"}",
          "event": Array [
            Object {
              "id": "6qbw4d",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "bhuvqx",
                "type": "text/javascript",
              },
            },
          ],
          "id": "x6exws",
          "name": "ConversationalAnalysisAuthoring_GetSupportedPrebuiltEntities",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
                "global",
                "prebuilt-entities",
              ],
              "query": Array [
                Object {
                  "key": "multilingual",
                  "value": "true",
                },
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetSupportedMultilingualPrebuiltEntitiesAsync",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "le21m4",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_ListTrainedModels\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_ListTrainedModels\\",\\"step\\":\\"ConversationalAnalysisAuthoring_ListTrainedModels\\"}",
          "event": Array [
            Object {
              "id": "ssi2a8",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "cdpopn",
                "type": "text/javascript",
              },
            },
          ],
          "id": "7oxzx1",
          "name": "ConversationalAnalysisAuthoring_ListTrainedModels",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
                ":projectName",
                "models",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [
                Object {
                  "key": "projectName",
                  "type": "any",
                  "value": "CLUScriptDeployed",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetTrainedModels",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "5sx5dw",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_ListTrainedModels\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_ListTrainedModels\\",\\"step\\":\\"ConversationalAnalysisAuthoring_ListTrainedModels\\"}",
          "event": Array [
            Object {
              "id": "8ew1jk",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "x6oaag",
                "type": "text/javascript",
              },
            },
          ],
          "id": "49cuyt",
          "name": "ConversationalAnalysisAuthoring_ListTrainedModels",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
                ":projectName",
                "models",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [
                Object {
                  "key": "projectName",
                  "type": "any",
                  "value": "CLUScriptDeployed",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "GetTrainedModelsAsync",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "i544h5",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"step\\":\\"ConversationalAnalysisAuthoring_ListProjects\\"}",
          "event": Array [
            Object {
              "id": "2tccjb",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "b9q1ra",
                "type": "text/javascript",
              },
            },
          ],
          "id": "db187u",
          "name": "ConversationalAnalysisAuthoring_ListProjects",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "SupportsAadAuthentication",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "3zgew6",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"itemName\\":\\"ConversationalAnalysisAuthoring_ListProjects\\",\\"step\\":\\"ConversationalAnalysisAuthoring_ListProjects\\"}",
          "event": Array [
            Object {
              "id": "6rfjty",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "hvl7jw",
                "type": "text/javascript",
              },
            },
          ],
          "id": "wpbvc4",
          "name": "ConversationalAnalysisAuthoring_ListProjects",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{Endpoint}}",
              ],
              "path": Array [
                "language",
                "authoring",
                "analyze-conversations",
                "projects",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2022-10-01-preview",
                },
              ],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "SupportsAadAuthenticationAsync",
    },
  ],
  "variable": Array [
    Object {
      "key": "subscriptionId",
      "type": "any",
    },
    Object {
      "key": "resourceGroupName",
      "type": "any",
    },
    Object {
      "key": "location",
      "type": "any",
    },
    Object {
      "key": "client_id",
      "type": "any",
    },
    Object {
      "key": "client_secret",
      "type": "any",
    },
    Object {
      "key": "tenantId",
      "type": "any",
    },
    Object {
      "key": "x_enable_auth",
      "type": "any",
      "value": "true",
    },
  ],
}
`;

exports[`postmanCollectionGenerator should generate PostmanCollection - enableTestProxy 1`] = `
Object {
  "auth": Object {
    "bearer": Array [
      Object {
        "key": "token",
        "type": "string",
        "value": "{{x_bearer_token_0}}",
      },
    ],
    "type": "bearer",
  },
  "event": Array [
    Object {
      "id": "tgp8uv",
      "listen": "prerequest",
      "script": Object {
        "exec": Array [
          "
if (pm.variables.get(\\"x_enable_auth\\") !== \\"true\\") {
    return;
}
if (
    !pm.variables.get(\\"x_bearer_token_0\\") ||
    Date.now() >
    new Date(pm.variables.get(\\"x_bearer_token_0_expires_on\\") * 1000)
) {
    let vars = [\\"client_id\\", \\"client_secret\\", \\"tenantId\\"];
    vars.forEach(function (item, index, array) {
        pm.expect(
            pm.variables.get(item),
            item + \\" variable not set\\"
        ).to.not.be.undefined;
        pm.expect(pm.variables.get(item), item + \\" variable not set\\").to.not.be.empty;
    });
    pm.sendRequest(
        {
            url:
                \\"https://login.microsoftonline.com/\\" +
                pm.variables.get(\\"tenantId\\") +
                \\"/oauth2/v2.0/token\\",
            method: \\"POST\\",
            header: \\"Content-Type: application/x-www-form-urlencoded\\",
            body: {
                mode: \\"urlencoded\\",
                urlencoded: [
                    { key: \\"grant_type\\", value: \\"client_credentials\\", disabled: false },
                    {
                        key: \\"client_id\\",
                        value: pm.variables.get(\\"client_id\\"),
                        disabled: false,
                    },
                    {
                        key: \\"client_secret\\",
                        value: pm.variables.get(\\"client_secret\\"),
                        disabled: false,
                    },
                    { key: \\"scope\\", value: \\"https://management.azure.com/.default\\", disabled: false },
                ],
            },
        },
        function (err, res) {
            if (err) {
                console.log(err);
            } else {
                let resJson = res.json();
                pm.environment.set(
                    \\"x_bearer_token_0_expires_on\\",
                    resJson.expires_in + Math.floor(Date.now() / 1000)
                );
                pm.environment.set(\\"x_bearer_token_0\\", resJson.access_token);
            }
        }
    );
}",
        ],
        "id": "gzre88",
        "type": "text/javascript",
      },
    },
  ],
  "info": Object {
    "_postman_id": "jestRunIdTestProxy",
    "description": Object {
      "content": "{\\"apiScenarioFilePath\\":\\"Microsoft.Storage/stable/2021-08-01/scenarios/storageQuickStart.yaml\\",\\"swaggerFilePaths\\":[\\"Microsoft.Storage/stable/2021-08-01/storage.json\\"]}",
      "type": "text/plain",
    },
    "name": "storageQuickStart",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": undefined,
  },
  "item": Array [
    Object {
      "event": Array [],
      "id": "8gypdh",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "3747vc",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "",
                  "pm.test(\\"Started TestProxy recording\\", function() {",
                  "    pm.response.to.be.success;",
                  "    pm.response.to.have.header(\\"x-recording-id\\");",
                  "    pm.environment.set(\\"x_recording_id\\", pm.response.headers.get(\\"x-recording-id\\"));",
                  "});",
                ],
                "id": "clnzjc",
                "type": "text/javascript",
              },
            },
          ],
          "id": "zq9w6n",
          "name": "startTestProxyRecording",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"x-recording-file\\": \\"Microsoft.Storage/stable/2021-08-01/scenarios/recordings/storageQuickStart.json\\"
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "localhost",
              ],
              "path": Array [
                "record",
                "start",
              ],
              "port": "5000",
              "protocol": "http",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "event": Array [
            Object {
              "id": "oipyp5",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "k8hcud",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9120qs",
          "name": "createResourceGroup",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{\\"location\\":\\"{{location}}\\"}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__Prepare__",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "39l4a3",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_CheckNameAvailability\\",\\"itemName\\":\\"checkName\\",\\"step\\":\\"checkName\\"}",
          "event": Array [
            Object {
              "id": "mcbyik",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "zvuzjs",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "gbupa4",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([200]);",
                  "if (pm.response.code === 200) {
pm.expect(_.get(pm.response.json(), [\\"nameAvailable\\"])).to.eql(true);
}
",
                  "});",
                ],
                "id": "1gju0k",
                "type": "text/javascript",
              },
            },
          ],
          "id": "g4l6nv",
          "name": "checkName",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"name\\": \\"{{accountName}}\\",
  \\"type\\": \\"Microsoft.Storage/storageAccounts\\"
}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "checkNameAvailability",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "hfy1hi",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "hlqn5m",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "3l45xk",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"http://localhost:5000\\" ? url.replace(\\"https://management.azure.com\\",\\"http://localhost:5000\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "1ueh28",
                "type": "text/javascript",
              },
            },
          ],
          "id": "j55iye",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"StorageV2\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"blob\\": {}
      },
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "7wi32c",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "4fy274",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "vov58h",
                "type": "text/javascript",
              },
            },
          ],
          "id": "1rcvet",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "vov58h",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "basic",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "6w00ic",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"accountName\\", \\"stanprcrj2\\");",
            ],
            "id": "m388ep",
            "type": "text/javascript",
          },
        },
      ],
      "id": "3q0yb6",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_CheckNameAvailability\\",\\"itemName\\":\\"checkName\\",\\"step\\":\\"checkName\\"}",
          "event": Array [
            Object {
              "id": "j917fd",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "rxgyxc",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "un6yyw",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([200]);",
                  "if (pm.response.code === 200) {
pm.expect(_.get(pm.response.json(), [\\"nameAvailable\\"])).to.eql(true);
}
",
                  "});",
                ],
                "id": "igg58r",
                "type": "text/javascript",
              },
            },
          ],
          "id": "qq5z84",
          "name": "checkName",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"name\\": \\"{{accountName}}\\",
  \\"type\\": \\"Microsoft.Storage/storageAccounts\\"
}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "checkNameAvailability",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "9e4snq",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "h1l4hw",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "d39qgw",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"http://localhost:5000\\" ? url.replace(\\"https://management.azure.com\\",\\"http://localhost:5000\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "jhzmpv",
                "type": "text/javascript",
              },
            },
          ],
          "id": "zfkej6",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"StorageV2\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"blob\\": {}
      },
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "ezqs5q",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "x7qdfp",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "9vqoea",
                "type": "text/javascript",
              },
            },
          ],
          "id": "cb8v3t",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "9atymt",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "overrideVariable",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "bhuvqx",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"accountName\\", \\"foobarx6exws\\");",
            ],
            "id": "le21m4",
            "type": "text/javascript",
          },
        },
      ],
      "id": "6qbw4d",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_CheckNameAvailability\\",\\"itemName\\":\\"checkName\\",\\"step\\":\\"checkName\\"}",
          "event": Array [
            Object {
              "id": "ssi2a8",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "cdpopn",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "5sx5dw",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([200]);",
                  "if (pm.response.code === 200) {
pm.expect(_.get(pm.response.json(), [\\"nameAvailable\\"])).to.eql(true);
}
",
                  "});",
                ],
                "id": "49cuyt",
                "type": "text/javascript",
              },
            },
          ],
          "id": "7oxzx1",
          "name": "checkName",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"name\\": \\"{{accountName}}\\",
  \\"type\\": \\"Microsoft.Storage/storageAccounts\\"
}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "checkNameAvailability",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "x6oaag",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "i544h5",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "6rfjty",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"http://localhost:5000\\" ? url.replace(\\"https://management.azure.com\\",\\"http://localhost:5000\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "hvl7jw",
                "type": "text/javascript",
              },
            },
          ],
          "id": "8ew1jk",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"StorageV2\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"blob\\": {}
      },
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "db187u",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "b9q1ra",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "3zgew6",
                "type": "text/javascript",
              },
            },
          ],
          "id": "2tccjb",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "wpbvc4",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeletedAccounts_Get\\",\\"itemName\\":\\"DeletedAccounts_Get\\",\\"step\\":\\"DeletedAccounts_Get\\"}",
          "event": Array [
            Object {
              "id": "yh0zn8",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"deletedAccountName\\", \\"foobarodc2fc\\");",
                  "pm.variables.set(\\"deletedAccountName_encoded\\", encodeURIComponent(pm.variables.get(\\"deletedAccountName\\")));",
                  "pm.variables.set(\\"location_encoded\\", encodeURIComponent(pm.variables.get(\\"location\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "h0fgel",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "p03jp7",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "k97wbk",
                "type": "text/javascript",
              },
            },
          ],
          "id": "iqxxs7",
          "name": "DeletedAccounts_Get",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "locations",
                ":location",
                "deletedAccounts",
                ":deletedAccountName",
              ],
              "query": Array [
                Object {
                  "key": "test",
                  "value": "1",
                },
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "deletedAccountName",
                  "type": "any",
                  "value": "{{deletedAccountName_encoded}}",
                },
                Object {
                  "key": "location",
                  "type": "any",
                  "value": "{{location_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "primitiveParameter",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "dm09uw",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"parameters\\", {\\"properties\\":{\\"sku\\":{\\"name\\":\\"Standard_LRS\\"},\\"kind\\":\\"StorageV2\\",\\"location\\":\\"westus\\",\\"properties\\":{\\"encryption\\":{\\"services\\":{\\"blob\\":{}},\\"keySource\\":\\"Microsoft.Storage\\"}},\\"patches\\":[{\\"add\\":\\"/properties/kind\\",\\"value\\":\\"StorageV2\\"}]}});",
            ],
            "id": "q1cfqt",
            "type": "text/javascript",
          },
        },
      ],
      "id": "j58bgv",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "vm8psu",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"parameters\\", {\\"properties\\":{\\"sku\\":\\"Standard\\",\\"kind\\":\\"StorageV2\\",\\"location\\":\\"westus\\",\\"properties\\":{\\"encryption\\":{\\"services\\":{\\"blob\\":{}},\\"keySource\\":\\"Microsoft.Storage\\"}},\\"patches\\":[{\\"add\\":\\"/properties/kind\\",\\"value\\":\\"StorageV2\\"}]}});",
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "lk4mhm",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "kqos97",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"http://localhost:5000\\" ? url.replace(\\"https://management.azure.com\\",\\"http://localhost:5000\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "bsqg1o",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9ezdsu",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"properties\\": {
    \\"sku\\": \\"Standard\\",
    \\"kind\\": \\"StorageV2\\",
    \\"location\\": \\"{{location}}\\",
    \\"properties\\": {
      \\"encryption\\": {
        \\"services\\": {
          \\"blob\\": {}
        },
        \\"keySource\\": \\"Microsoft.Storage\\"
      }
    },
    \\"patches\\": [
      {
        \\"add\\": \\"/properties/kind\\",
        \\"value\\": \\"StorageV2\\"
      }
    ]
  }
}",
            },
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "ivu9xy",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "spylrr",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "qh9z16",
                "type": "text/javascript",
              },
            },
          ],
          "id": "mge3qz",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "eq5yyi",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "patchVariables",
    },
    Object {
      "event": Array [],
      "id": "65xm09",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "tyolxx",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response code should be 2xx\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "c9wzyn",
                "type": "text/javascript",
              },
            },
          ],
          "id": "a7lkxi",
          "name": "deleteResourceGroup",
          "request": Object {
            "header": Array [
              Object {
                "key": "x-recording-upstream-base-uri",
                "value": "https://management.azure.com",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
              Object {
                "key": "x-recording-mode",
                "value": "record",
              },
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "http://localhost:5000",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "event": Array [
            Object {
              "id": "wlgh2r",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "",
                  "pm.test(\\"Stopped TestProxy recording\\", function() {",
                  "    pm.response.to.be.success;",
                  "});",
                  "",
                ],
                "id": "d9yng9",
                "type": "text/javascript",
              },
            },
          ],
          "id": "gsyqal",
          "name": "stopTestProxyRecording",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"TIMESTAMP\\": \\"{{$isoTimestamp}}\\",
  \\"scenarioFile\\": \\"Microsoft.Storage/stable/2021-08-01/scenarios/storageQuickStart.yaml\\",
  \\"armEndpoint\\": \\"https://management.azure.com\\",
  \\"subscriptionId\\": \\"00000000-0000-0000-0000-000000000000\\",
  \\"resourceGroup\\": \\"apiTest-r4of8l\\",
  \\"location\\": \\"westus\\",
  \\"runId\\": \\"jestRunIdTestProxy\\",
  \\"randomSeed\\": \\"0\\"
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
              Object {
                "key": "x-recording-id",
                "value": "{{x_recording_id}}",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "localhost",
              ],
              "path": Array [
                "record",
                "stop",
              ],
              "port": "5000",
              "protocol": "http",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__CleanUp__",
    },
  ],
  "variable": Array [
    Object {
      "key": "accountName",
      "type": "any",
      "value": "stanprcrj",
    },
    Object {
      "key": "subscriptionId",
      "type": "any",
    },
    Object {
      "key": "resourceGroupName",
      "type": "any",
    },
    Object {
      "key": "location",
      "type": "any",
    },
    Object {
      "key": "client_id",
      "type": "any",
    },
    Object {
      "key": "client_secret",
      "type": "any",
    },
    Object {
      "key": "tenantId",
      "type": "any",
    },
    Object {
      "key": "x_enable_auth",
      "type": "any",
      "value": "true",
    },
  ],
}
`;

exports[`postmanCollectionGenerator should generate PostmanCollection - storageBasicExample 1`] = `
Object {
  "auth": Object {
    "bearer": Array [
      Object {
        "key": "token",
        "type": "string",
        "value": "{{x_bearer_token_0}}",
      },
    ],
    "type": "bearer",
  },
  "event": Array [
    Object {
      "id": "tgp8uv",
      "listen": "prerequest",
      "script": Object {
        "exec": Array [
          "
if (pm.variables.get(\\"x_enable_auth\\") !== \\"true\\") {
    return;
}
if (
    !pm.variables.get(\\"x_bearer_token_0\\") ||
    Date.now() >
    new Date(pm.variables.get(\\"x_bearer_token_0_expires_on\\") * 1000)
) {
    let vars = [\\"client_id\\", \\"client_secret\\", \\"tenantId\\"];
    vars.forEach(function (item, index, array) {
        pm.expect(
            pm.variables.get(item),
            item + \\" variable not set\\"
        ).to.not.be.undefined;
        pm.expect(pm.variables.get(item), item + \\" variable not set\\").to.not.be.empty;
    });
    pm.sendRequest(
        {
            url:
                \\"https://login.microsoftonline.com/\\" +
                pm.variables.get(\\"tenantId\\") +
                \\"/oauth2/v2.0/token\\",
            method: \\"POST\\",
            header: \\"Content-Type: application/x-www-form-urlencoded\\",
            body: {
                mode: \\"urlencoded\\",
                urlencoded: [
                    { key: \\"grant_type\\", value: \\"client_credentials\\", disabled: false },
                    {
                        key: \\"client_id\\",
                        value: pm.variables.get(\\"client_id\\"),
                        disabled: false,
                    },
                    {
                        key: \\"client_secret\\",
                        value: pm.variables.get(\\"client_secret\\"),
                        disabled: false,
                    },
                    { key: \\"scope\\", value: \\"https://management.azure.com/.default\\", disabled: false },
                ],
            },
        },
        function (err, res) {
            if (err) {
                console.log(err);
            } else {
                let resJson = res.json();
                pm.environment.set(
                    \\"x_bearer_token_0_expires_on\\",
                    resJson.expires_in + Math.floor(Date.now() / 1000)
                );
                pm.environment.set(\\"x_bearer_token_0\\", resJson.access_token);
            }
        }
    );
}",
        ],
        "id": "gzre88",
        "type": "text/javascript",
      },
    },
  ],
  "info": Object {
    "_postman_id": "jestRunId",
    "description": Object {
      "content": "{\\"apiScenarioFilePath\\":\\"Microsoft.Storage/stable/2021-08-01/scenarios/storageBasicExample.yaml\\",\\"swaggerFilePaths\\":[\\"Microsoft.Storage/stable/2021-08-01/storage.json\\"]}",
      "type": "text/plain",
    },
    "name": "storageBasicExample",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": undefined,
  },
  "item": Array [
    Object {
      "event": Array [],
      "id": "8gypdh",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "3747vc",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "clnzjc",
                "type": "text/javascript",
              },
            },
          ],
          "id": "zq9w6n",
          "name": "createResourceGroup",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{\\"location\\":\\"{{location}}\\"}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__Prepare__",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "9120qs",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_CheckNameAvailability\\",\\"exampleName\\":\\"../examples/StorageAccountCheckNameAvailability.json\\",\\"itemName\\":\\"checkName\\",\\"step\\":\\"checkName\\"}",
          "event": Array [
            Object {
              "id": "k8hcud",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "39l4a3",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "g4l6nv",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "mcbyik",
                "type": "text/javascript",
              },
            },
          ],
          "id": "oipyp5",
          "name": "checkName",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"name\\": \\"{{accountName}}\\",
  \\"type\\": \\"Microsoft.Storage/storageAccounts\\"
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "checkNameAvailability",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"exampleName\\":\\"../examples/StorageAccountCreate.json\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "gbupa4",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "1gju0k",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "1rcvet",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"\\" ? url.replace(\\"https://management.azure.com\\",\\"\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "4fy274",
                "type": "text/javascript",
              },
            },
          ],
          "id": "zvuzjs",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"sku\\": {
    \\"name\\": \\"Standard_GRS\\"
  },
  \\"kind\\": \\"Storage\\",
  \\"location\\": \\"{{location}}\\",
  \\"extendedLocation\\": {
    \\"type\\": \\"EdgeZone\\",
    \\"name\\": \\"losangeles001\\"
  },
  \\"properties\\": {
    \\"keyPolicy\\": {
      \\"keyExpirationPeriodInDays\\": 20
    },
    \\"sasPolicy\\": {
      \\"sasExpirationPeriod\\": \\"1.15:59:59\\",
      \\"expirationAction\\": \\"Log\\"
    },
    \\"isHnsEnabled\\": true,
    \\"isSftpEnabled\\": true,
    \\"allowBlobPublicAccess\\": false,
    \\"defaultToOAuthAuthentication\\": false,
    \\"minimumTlsVersion\\": \\"TLS1_2\\",
    \\"allowSharedKeyAccess\\": true,
    \\"routingPreference\\": {
      \\"routingChoice\\": \\"MicrosoftRouting\\",
      \\"publishMicrosoftEndpoints\\": true,
      \\"publishInternetEndpoints\\": true
    },
    \\"encryption\\": {
      \\"services\\": {
        \\"file\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        },
        \\"blob\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        }
      },
      \\"requireInfrastructureEncryption\\": false,
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  },
  \\"tags\\": {
    \\"key1\\": \\"value1\\",
    \\"key2\\": \\"value2\\"
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "j55iye",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "hlqn5m",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "7wi32c",
                "type": "text/javascript",
              },
            },
          ],
          "id": "hfy1hi",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "7wi32c",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_Update\\",\\"exampleName\\":\\"../examples/StorageAccountUpdate.json\\",\\"itemName\\":\\"updateStorageAccount\\",\\"step\\":\\"updateStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "3l45xk",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "1ueh28",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "3q0yb6",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "6w00ic",
                "type": "text/javascript",
              },
            },
          ],
          "id": "vov58h",
          "name": "updateStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"properties\\": {
    \\"keyPolicy\\": {
      \\"keyExpirationPeriodInDays\\": 20
    },
    \\"sasPolicy\\": {
      \\"sasExpirationPeriod\\": \\"1.15:59:59\\",
      \\"expirationAction\\": \\"Log\\"
    },
    \\"allowBlobPublicAccess\\": false,
    \\"isSftpEnabled\\": true,
    \\"isLocalUserEnabled\\": true,
    \\"defaultToOAuthAuthentication\\": false,
    \\"minimumTlsVersion\\": \\"TLS1_2\\",
    \\"allowSharedKeyAccess\\": true,
    \\"networkAcls\\": {
      \\"resourceAccessRules\\": [
        {
          \\"tenantId\\": \\"72f988bf-86f1-41af-91ab-2d7cd011db47\\",
          \\"resourceId\\": \\"/subscriptions/a7e99807-abbf-4642-bdec-2c809a96a8bc/resourceGroups/{{resourceGroupName}}/providers/Microsoft.Synapse/workspaces/testworkspace\\"
        }
      ],
      \\"defaultAction\\": \\"Allow\\"
    },
    \\"routingPreference\\": {
      \\"routingChoice\\": \\"MicrosoftRouting\\",
      \\"publishMicrosoftEndpoints\\": true,
      \\"publishInternetEndpoints\\": true
    },
    \\"encryption\\": {
      \\"services\\": {
        \\"file\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        },
        \\"blob\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        }
      },
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PATCH",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_GetProperties\\",\\"exampleName\\":\\"../examples/StorageAccountGetProperties.json\\",\\"itemName\\":\\"getStorageAccount\\",\\"step\\":\\"getStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "qq5z84",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "j917fd",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "rxgyxc",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "un6yyw",
                "type": "text/javascript",
              },
            },
          ],
          "id": "m388ep",
          "name": "getStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_Delete\\",\\"exampleName\\":\\"../examples/StorageAccountDelete.json\\",\\"itemName\\":\\"deleteStorageAccount\\",\\"step\\":\\"deleteStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "zfkej6",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "9e4snq",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "h1l4hw",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "ezqs5q",
                "type": "text/javascript",
              },
            },
          ],
          "id": "igg58r",
          "name": "deleteStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "StorageBasicExample",
    },
    Object {
      "event": Array [],
      "id": "x7qdfp",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "9vqoea",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response code should be 2xx\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "9atymt",
                "type": "text/javascript",
              },
            },
          ],
          "id": "cb8v3t",
          "name": "deleteResourceGroup",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__CleanUp__",
    },
  ],
  "variable": Array [
    Object {
      "key": "accountName",
      "type": "any",
      "value": "stanprcrj",
    },
    Object {
      "key": "subscriptionId",
      "type": "any",
    },
    Object {
      "key": "resourceGroupName",
      "type": "any",
    },
    Object {
      "key": "location",
      "type": "any",
    },
    Object {
      "key": "client_id",
      "type": "any",
    },
    Object {
      "key": "client_secret",
      "type": "any",
    },
    Object {
      "key": "tenantId",
      "type": "any",
    },
    Object {
      "key": "x_enable_auth",
      "type": "any",
      "value": "true",
    },
  ],
}
`;

exports[`postmanCollectionGenerator should generate PostmanCollection - storageQuickStart 1`] = `
Object {
  "auth": Object {
    "bearer": Array [
      Object {
        "key": "token",
        "type": "string",
        "value": "{{x_bearer_token_0}}",
      },
    ],
    "type": "bearer",
  },
  "event": Array [
    Object {
      "id": "tgp8uv",
      "listen": "prerequest",
      "script": Object {
        "exec": Array [
          "
if (pm.variables.get(\\"x_enable_auth\\") !== \\"true\\") {
    return;
}
if (
    !pm.variables.get(\\"x_bearer_token_0\\") ||
    Date.now() >
    new Date(pm.variables.get(\\"x_bearer_token_0_expires_on\\") * 1000)
) {
    let vars = [\\"client_id\\", \\"client_secret\\", \\"tenantId\\"];
    vars.forEach(function (item, index, array) {
        pm.expect(
            pm.variables.get(item),
            item + \\" variable not set\\"
        ).to.not.be.undefined;
        pm.expect(pm.variables.get(item), item + \\" variable not set\\").to.not.be.empty;
    });
    pm.sendRequest(
        {
            url:
                \\"https://login.microsoftonline.com/\\" +
                pm.variables.get(\\"tenantId\\") +
                \\"/oauth2/v2.0/token\\",
            method: \\"POST\\",
            header: \\"Content-Type: application/x-www-form-urlencoded\\",
            body: {
                mode: \\"urlencoded\\",
                urlencoded: [
                    { key: \\"grant_type\\", value: \\"client_credentials\\", disabled: false },
                    {
                        key: \\"client_id\\",
                        value: pm.variables.get(\\"client_id\\"),
                        disabled: false,
                    },
                    {
                        key: \\"client_secret\\",
                        value: pm.variables.get(\\"client_secret\\"),
                        disabled: false,
                    },
                    { key: \\"scope\\", value: \\"https://management.azure.com/.default\\", disabled: false },
                ],
            },
        },
        function (err, res) {
            if (err) {
                console.log(err);
            } else {
                let resJson = res.json();
                pm.environment.set(
                    \\"x_bearer_token_0_expires_on\\",
                    resJson.expires_in + Math.floor(Date.now() / 1000)
                );
                pm.environment.set(\\"x_bearer_token_0\\", resJson.access_token);
            }
        }
    );
}",
        ],
        "id": "gzre88",
        "type": "text/javascript",
      },
    },
  ],
  "info": Object {
    "_postman_id": "jestRunId",
    "description": Object {
      "content": "{\\"apiScenarioFilePath\\":\\"Microsoft.Storage/stable/2021-08-01/scenarios/storageQuickStart.yaml\\",\\"swaggerFilePaths\\":[\\"Microsoft.Storage/stable/2021-08-01/storage.json\\"]}",
      "type": "text/plain",
    },
    "name": "storageQuickStart",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": undefined,
  },
  "item": Array [
    Object {
      "event": Array [],
      "id": "8gypdh",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "3747vc",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "clnzjc",
                "type": "text/javascript",
              },
            },
          ],
          "id": "zq9w6n",
          "name": "createResourceGroup",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{\\"location\\":\\"{{location}}\\"}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__Prepare__",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "9120qs",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_CheckNameAvailability\\",\\"itemName\\":\\"checkName\\",\\"step\\":\\"checkName\\"}",
          "event": Array [
            Object {
              "id": "k8hcud",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "39l4a3",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "g4l6nv",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([200]);",
                  "if (pm.response.code === 200) {
pm.expect(_.get(pm.response.json(), [\\"nameAvailable\\"])).to.eql(true);
}
",
                  "});",
                ],
                "id": "mcbyik",
                "type": "text/javascript",
              },
            },
          ],
          "id": "oipyp5",
          "name": "checkName",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"name\\": \\"{{accountName}}\\",
  \\"type\\": \\"Microsoft.Storage/storageAccounts\\"
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "checkNameAvailability",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "gbupa4",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "1gju0k",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "1rcvet",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"\\" ? url.replace(\\"https://management.azure.com\\",\\"\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "4fy274",
                "type": "text/javascript",
              },
            },
          ],
          "id": "zvuzjs",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"StorageV2\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"blob\\": {}
      },
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "j55iye",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "hlqn5m",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "7wi32c",
                "type": "text/javascript",
              },
            },
          ],
          "id": "hfy1hi",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "7wi32c",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "basic",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "3l45xk",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"accountName\\", \\"stanprcrj2\\");",
            ],
            "id": "1ueh28",
            "type": "text/javascript",
          },
        },
      ],
      "id": "vov58h",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_CheckNameAvailability\\",\\"itemName\\":\\"checkName\\",\\"step\\":\\"checkName\\"}",
          "event": Array [
            Object {
              "id": "6w00ic",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "m388ep",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "qq5z84",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([200]);",
                  "if (pm.response.code === 200) {
pm.expect(_.get(pm.response.json(), [\\"nameAvailable\\"])).to.eql(true);
}
",
                  "});",
                ],
                "id": "j917fd",
                "type": "text/javascript",
              },
            },
          ],
          "id": "3q0yb6",
          "name": "checkName",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"name\\": \\"{{accountName}}\\",
  \\"type\\": \\"Microsoft.Storage/storageAccounts\\"
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "checkNameAvailability",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "un6yyw",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "igg58r",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "x7qdfp",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"\\" ? url.replace(\\"https://management.azure.com\\",\\"\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "9vqoea",
                "type": "text/javascript",
              },
            },
          ],
          "id": "rxgyxc",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"StorageV2\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"blob\\": {}
      },
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "zfkej6",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "h1l4hw",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "ezqs5q",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9e4snq",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "cb8v3t",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "overrideVariable",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "jhzmpv",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"accountName\\", \\"foobar9atymt\\");",
            ],
            "id": "x6exws",
            "type": "text/javascript",
          },
        },
      ],
      "id": "d39qgw",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"StorageAccounts_CheckNameAvailability\\",\\"itemName\\":\\"checkName\\",\\"step\\":\\"checkName\\"}",
          "event": Array [
            Object {
              "id": "bhuvqx",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "le21m4",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "7oxzx1",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.expect(pm.response.code).to.be.oneOf([200]);",
                  "if (pm.response.code === 200) {
pm.expect(_.get(pm.response.json(), [\\"nameAvailable\\"])).to.eql(true);
}
",
                  "});",
                ],
                "id": "ssi2a8",
                "type": "text/javascript",
              },
            },
          ],
          "id": "6qbw4d",
          "name": "checkName",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"name\\": \\"{{accountName}}\\",
  \\"type\\": \\"Microsoft.Storage/storageAccounts\\"
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "POST",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "checkNameAvailability",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "5sx5dw",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "49cuyt",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "b9q1ra",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"\\" ? url.replace(\\"https://management.azure.com\\",\\"\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "3zgew6",
                "type": "text/javascript",
              },
            },
          ],
          "id": "cdpopn",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"StorageV2\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"blob\\": {}
      },
      \\"keySource\\": \\"Microsoft.Storage\\"
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "8ew1jk",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "i544h5",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "db187u",
                "type": "text/javascript",
              },
            },
          ],
          "id": "x6oaag",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "2tccjb",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"simple\\",\\"operationId\\":\\"DeletedAccounts_Get\\",\\"itemName\\":\\"DeletedAccounts_Get\\",\\"step\\":\\"DeletedAccounts_Get\\"}",
          "event": Array [
            Object {
              "id": "hvl7jw",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"deletedAccountName\\", \\"foobarwpbvc4\\");",
                  "pm.variables.set(\\"deletedAccountName_encoded\\", encodeURIComponent(pm.variables.get(\\"deletedAccountName\\")));",
                  "pm.variables.set(\\"location_encoded\\", encodeURIComponent(pm.variables.get(\\"location\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "odc2fc",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "iqxxs7",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "yh0zn8",
                "type": "text/javascript",
              },
            },
          ],
          "id": "6rfjty",
          "name": "DeletedAccounts_Get",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {},
            "method": "GET",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "providers",
                "Microsoft.Storage",
                "locations",
                ":location",
                "deletedAccounts",
                ":deletedAccountName",
              ],
              "query": Array [
                Object {
                  "key": "test",
                  "value": "1",
                },
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "deletedAccountName",
                  "type": "any",
                  "value": "{{deletedAccountName_encoded}}",
                },
                Object {
                  "key": "location",
                  "type": "any",
                  "value": "{{location_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "primitiveParameter",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [
        Object {
          "id": "p03jp7",
          "listen": "prerequest",
          "script": Object {
            "exec": Array [
              "pm.variables.set(\\"parameters\\", {\\"properties\\":{\\"sku\\":{\\"name\\":\\"Standard_LRS\\"},\\"kind\\":\\"StorageV2\\",\\"location\\":\\"westus\\",\\"properties\\":{\\"encryption\\":{\\"services\\":{\\"blob\\":{}},\\"keySource\\":\\"Microsoft.Storage\\"}},\\"patches\\":[{\\"add\\":\\"/properties/kind\\",\\"value\\":\\"StorageV2\\"}]}});",
            ],
            "id": "k97wbk",
            "type": "text/javascript",
          },
        },
      ],
      "id": "h0fgel",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "dm09uw",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"parameters\\", {\\"properties\\":{\\"sku\\":\\"Standard\\",\\"kind\\":\\"StorageV2\\",\\"location\\":\\"westus\\",\\"properties\\":{\\"encryption\\":{\\"services\\":{\\"blob\\":{}},\\"keySource\\":\\"Microsoft.Storage\\"}},\\"patches\\":[{\\"add\\":\\"/properties/kind\\",\\"value\\":\\"StorageV2\\"}]}});",
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"accountName_encoded\\", encodeURIComponent(pm.variables.get(\\"accountName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "q1cfqt",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "spylrr",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"\\" ? url.replace(\\"https://management.azure.com\\",\\"\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/{{accountName_encoded}}?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "qh9z16",
                "type": "text/javascript",
              },
            },
          ],
          "id": "j58bgv",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"properties\\": {
    \\"sku\\": \\"Standard\\",
    \\"kind\\": \\"StorageV2\\",
    \\"location\\": \\"{{location}}\\",
    \\"properties\\": {
      \\"encryption\\": {
        \\"services\\": {
          \\"blob\\": {}
        },
        \\"keySource\\": \\"Microsoft.Storage\\"
      }
    },
    \\"patches\\": [
      {
        \\"add\\": \\"/properties/kind\\",
        \\"value\\": \\"StorageV2\\"
      }
    ]
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "{{accountName_encoded}}",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "9ezdsu",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "lk4mhm",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "ivu9xy",
                "type": "text/javascript",
              },
            },
          ],
          "id": "vm8psu",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "mge3qz",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "patchVariables",
    },
    Object {
      "event": Array [],
      "id": "kqos97",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "bsqg1o",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response code should be 2xx\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "a7lkxi",
                "type": "text/javascript",
              },
            },
          ],
          "id": "eq5yyi",
          "name": "deleteResourceGroup",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__CleanUp__",
    },
  ],
  "variable": Array [
    Object {
      "key": "accountName",
      "type": "any",
      "value": "stanprcrj",
    },
    Object {
      "key": "subscriptionId",
      "type": "any",
    },
    Object {
      "key": "resourceGroupName",
      "type": "any",
    },
    Object {
      "key": "location",
      "type": "any",
    },
    Object {
      "key": "client_id",
      "type": "any",
    },
    Object {
      "key": "client_secret",
      "type": "any",
    },
    Object {
      "key": "tenantId",
      "type": "any",
    },
    Object {
      "key": "x_enable_auth",
      "type": "any",
      "value": "true",
    },
  ],
}
`;

exports[`postmanCollectionGenerator should generate PostmanCollection - testKeyReplace 1`] = `
Object {
  "auth": Object {
    "bearer": Array [
      Object {
        "key": "token",
        "type": "string",
        "value": "{{x_bearer_token_0}}",
      },
    ],
    "type": "bearer",
  },
  "event": Array [
    Object {
      "id": "nprcrj",
      "listen": "prerequest",
      "script": Object {
        "exec": Array [
          "
if (pm.variables.get(\\"x_enable_auth\\") !== \\"true\\") {
    return;
}
if (
    !pm.variables.get(\\"x_bearer_token_0\\") ||
    Date.now() >
    new Date(pm.variables.get(\\"x_bearer_token_0_expires_on\\") * 1000)
) {
    let vars = [\\"client_id\\", \\"client_secret\\", \\"tenantId\\"];
    vars.forEach(function (item, index, array) {
        pm.expect(
            pm.variables.get(item),
            item + \\" variable not set\\"
        ).to.not.be.undefined;
        pm.expect(pm.variables.get(item), item + \\" variable not set\\").to.not.be.empty;
    });
    pm.sendRequest(
        {
            url:
                \\"https://login.microsoftonline.com/\\" +
                pm.variables.get(\\"tenantId\\") +
                \\"/oauth2/v2.0/token\\",
            method: \\"POST\\",
            header: \\"Content-Type: application/x-www-form-urlencoded\\",
            body: {
                mode: \\"urlencoded\\",
                urlencoded: [
                    { key: \\"grant_type\\", value: \\"client_credentials\\", disabled: false },
                    {
                        key: \\"client_id\\",
                        value: pm.variables.get(\\"client_id\\"),
                        disabled: false,
                    },
                    {
                        key: \\"client_secret\\",
                        value: pm.variables.get(\\"client_secret\\"),
                        disabled: false,
                    },
                    { key: \\"scope\\", value: \\"https://management.azure.com/.default\\", disabled: false },
                ],
            },
        },
        function (err, res) {
            if (err) {
                console.log(err);
            } else {
                let resJson = res.json();
                pm.environment.set(
                    \\"x_bearer_token_0_expires_on\\",
                    resJson.expires_in + Math.floor(Date.now() / 1000)
                );
                pm.environment.set(\\"x_bearer_token_0\\", resJson.access_token);
            }
        }
    );
}",
        ],
        "id": "tgp8uv",
        "type": "text/javascript",
      },
    },
  ],
  "info": Object {
    "_postman_id": "jestRunId",
    "description": Object {
      "content": "{\\"apiScenarioFilePath\\":\\"Microsoft.Storage/stable/2021-08-01/scenarios/testKeyReplace.yaml\\",\\"swaggerFilePaths\\":[\\"Microsoft.Storage/stable/2021-08-01/storage.json\\"]}",
      "type": "text/plain",
    },
    "name": "testKeyReplace",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": undefined,
  },
  "item": Array [
    Object {
      "event": Array [],
      "id": "zq9w6n",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "8gypdh",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "3747vc",
                "type": "text/javascript",
              },
            },
          ],
          "id": "gzre88",
          "name": "createResourceGroup",
          "request": Object {
            "body": Object {
              "mode": "raw",
              "raw": "{\\"location\\":\\"{{location}}\\"}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__Prepare__",
    },
    Object {
      "auth": Object {
        "bearer": Array [
          Object {
            "key": "token",
            "type": "string",
            "value": "{{x_bearer_token_0}}",
          },
        ],
        "type": "bearer",
      },
      "description": Object {
        "content": "",
        "type": "text/plain",
      },
      "event": Array [],
      "id": "clnzjc",
      "item": Array [
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"exampleName\\":\\"../examples/StorageAccountCreateUserAssignedIdentityWithFederatedIdentityClientId.json\\",\\"itemName\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "oipyp5",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "k8hcud",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "gbupa4",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/sto131918?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/sto131918?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"\\" ? url.replace(\\"https://management.azure.com\\",\\"\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/sto131918?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "1gju0k",
                "type": "text/javascript",
              },
            },
          ],
          "id": "9120qs",
          "name": "createStorageAccount",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"identity\\": {
    \\"type\\": \\"UserAssigned\\",
    \\"userAssignedIdentities\\": {
      \\"/subscriptions/{{subscriptionId}}/resourceGroups/{{resourceGroupName}}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{managed-identity-name}\\": {}
    }
  },
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"Storage\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"file\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        },
        \\"blob\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        }
      },
      \\"keyvaultproperties\\": {
        \\"keyvaulturi\\": \\"https://myvault8569.vault.azure.net\\",
        \\"keyname\\": \\"wrappingKey\\",
        \\"keyversion\\": \\"\\"
      },
      \\"keySource\\": \\"Microsoft.Keyvault\\",
      \\"identity\\": {
        \\"userAssignedIdentity\\": \\"/subscriptions/{{subscriptionId}}/resourceGroups/res9101/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{managed-identity-name}\\",
        \\"federatedIdentityClientId\\": \\"f83c6b1b-4d34-47e4-bb34-9d83df58b540\\"
      }
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "sto131918",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "39l4a3",
          "name": "_createStorageAccount_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount\\"}",
          "event": Array [
            Object {
              "id": "mcbyik",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "zvuzjs",
                "type": "text/javascript",
              },
            },
          ],
          "id": "g4l6nv",
          "name": "_createStorageAccount_poller",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount\\",\\"step\\":\\"createStorageAccount\\"}",
          "event": Array [],
          "id": "zvuzjs",
          "name": "_createStorageAccount_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"LRO\\",\\"poller_item_name\\":\\"_createStorageAccount1_poller\\",\\"operationId\\":\\"StorageAccounts_Create\\",\\"exampleName\\":\\"../examples/StorageAccountCreateUserAssignedIdentityWithFederatedIdentityClientId.json\\",\\"itemName\\":\\"createStorageAccount1\\",\\"step\\":\\"createStorageAccount1\\"}",
          "event": Array [
            Object {
              "id": "hfy1hi",
              "listen": "prerequest",
              "script": Object {
                "exec": Array [
                  "pm.variables.set(\\"resourceGroupName_encoded\\", encodeURIComponent(pm.variables.get(\\"resourceGroupName\\")));",
                  "pm.variables.set(\\"subscriptionId_encoded\\", encodeURIComponent(pm.variables.get(\\"subscriptionId\\")));",
                ],
                "id": "hlqn5m",
                "type": "text/javascript",
              },
            },
            Object {
              "id": "1ueh28",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response status code assertion.\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                  "
 function getLroFinalGetUrl(finalStateVia) {
  if (!finalStateVia) {
    // by default, the final url header is Location for ARM, Operation-Location for dataplane.
    return 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/sto131918?api-version=2021-08-01'
  }
  switch (finalStateVia) {
    case \\"location\\": {
      return pm.response.headers.get(\\"Location\\");
    }
    case \\"azure-async-operation\\": {
      return pm.response.headers.get(\\"Azure-AsyncOperation\\");
    }
    case \\"original-uri\\": {
      return \\"https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/sto131918?api-version=2021-08-01\\";
    }
    case \\"operation-location\\": {
      return pm.response.headers.get(\\"Operation-Location\\");
    }
    default:
      return \\"\\";
  }
}
function getProxyUrl(url) {
  return  \\"\\" ? url.replace(\\"https://management.azure.com\\",\\"\\") : url
}
const pollingUrl = pm.response.headers.get(\\"Location\\") || pm.response.headers.get(\\"Azure-AsyncOperation\\") || pm.response.headers.get(\\"Operation-Location\\") || 'https://management.azure.com/subscriptions/{{subscriptionId_encoded}}/resourceGroups/{{resourceGroupName_encoded}}/providers/Microsoft.Storage/storageAccounts/sto131918?api-version=2021-08-01'
if (pollingUrl) {
    pm.variables.set(\\"x_polling_url\\",getProxyUrl(pollingUrl));
    pm.variables.set(\\"x_final_get_url\\",getProxyUrl(getLroFinalGetUrl(\\"\\")))
    pm.variables.set(\\"x_retry_after\\", \\"3\\");
}",
                ],
                "id": "3q0yb6",
                "type": "text/javascript",
              },
            },
          ],
          "id": "j55iye",
          "name": "createStorageAccount1",
          "request": Object {
            "auth": Object {
              "bearer": Array [
                Object {
                  "key": "token",
                  "type": "string",
                  "value": "{{x_bearer_token_0}}",
                },
              ],
              "type": "bearer",
            },
            "body": Object {
              "mode": "raw",
              "raw": "{
  \\"identity\\": {
    \\"type\\": \\"UserAssigned\\",
    \\"userAssignedIdentities\\": {
      \\"/subscriptions/{{subscriptionId}}/resourceGroups/{{resourceGroupName}}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{managed-identity-name}\\": {}
    }
  },
  \\"sku\\": {
    \\"name\\": \\"Standard_LRS\\"
  },
  \\"kind\\": \\"Storage\\",
  \\"location\\": \\"{{location}}\\",
  \\"properties\\": {
    \\"encryption\\": {
      \\"services\\": {
        \\"file\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        },
        \\"blob\\": {
          \\"keyType\\": \\"Account\\",
          \\"enabled\\": true
        }
      },
      \\"keyvaultproperties\\": {
        \\"keyvaulturi\\": \\"https://myvault8569.vault.azure.net\\",
        \\"keyname\\": \\"wrappingKey\\",
        \\"keyversion\\": \\"\\"
      },
      \\"keySource\\": \\"Microsoft.Keyvault\\",
      \\"identity\\": {
        \\"userAssignedIdentity\\": \\"/subscriptions/{{subscriptionId}}/resourceGroups/res9101/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{managed-identity-name}\\",
        \\"federatedIdentityClientId\\": \\"f83c6b1b-4d34-47e4-bb34-9d83df58b540\\"
      }
    }
  }
}",
            },
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "PUT",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourceGroups",
                ":resourceGroupName",
                "providers",
                "Microsoft.Storage",
                "storageAccounts",
                ":accountName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2021-08-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName_encoded}}",
                },
                Object {
                  "key": "accountName",
                  "type": "any",
                  "value": "sto131918",
                },
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId_encoded}}",
                },
              ],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"delay\\",\\"lro_item_name\\":\\"createStorageAccount1\\"}",
          "event": Array [],
          "id": "7wi32c",
          "name": "_createStorageAccount1_delay",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "postman-echo",
                "com",
              ],
              "path": Array [
                "delay",
                "{{x_retry_after}}",
              ],
              "protocol": "https",
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"poller\\",\\"lro_item_name\\":\\"createStorageAccount1\\"}",
          "event": Array [
            Object {
              "id": "4fy274",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "
try {
    if (pm.response.code === 202) {
        postman.setNextRequest(\\"_createStorageAccount1_delay\\");
        if (pm.response.headers.has(\\"Retry-After\\")) {
            pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
        }
    } else if (pm.response.size().body > 0) {
        const terminalStatus = [\\"succeeded\\", \\"failed\\", \\"canceled\\", \\"cancelled\\", \\"aborted\\", \\"deleted\\", \\"completed\\"];
        const json = pm.response.json();
        if (json.status !== undefined && terminalStatus.indexOf(json.status.toLowerCase()) === -1) {
            postman.setNextRequest(\\"_createStorageAccount1_delay\\")
            if (pm.response.headers.has(\\"Retry-After\\")) {
                pm.variables.set(\\"x_retry_after\\", pm.response.headers.get(\\"Retry-After\\"));
            }
        }
    }
} catch (err) {
  console.error(err);
}
",
                ],
                "id": "vov58h",
                "type": "text/javascript",
              },
            },
          ],
          "id": "1rcvet",
          "name": "_createStorageAccount1_poller",
          "request": Object {
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_polling_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
        Object {
          "description": "{\\"type\\":\\"finalGet\\",\\"lro_item_name\\":\\"createStorageAccount1\\",\\"step\\":\\"createStorageAccount1\\"}",
          "event": Array [],
          "id": "3l45xk",
          "name": "_createStorageAccount1_final_get",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "GET",
            "url": Object {
              "host": Array [
                "{{x_final_get_url}}",
              ],
              "query": Array [],
              "variable": Array [],
            },
          },
          "response": Array [],
        },
      ],
      "name": "StorageBasicExample",
    },
    Object {
      "event": Array [],
      "id": "m388ep",
      "item": Array [
        Object {
          "event": Array [
            Object {
              "id": "qq5z84",
              "listen": "test",
              "script": Object {
                "exec": Array [
                  "pm.test(\\"response code should be 2xx\\", function() {",
                  "pm.response.to.be.success;",
                  "});",
                ],
                "id": "j917fd",
                "type": "text/javascript",
              },
            },
          ],
          "id": "6w00ic",
          "name": "deleteResourceGroup",
          "request": Object {
            "header": Array [
              Object {
                "key": "Content-Type",
                "value": "application/json",
              },
            ],
            "method": "DELETE",
            "url": Object {
              "host": Array [
                "https://management",
                "azure",
                "com",
              ],
              "path": Array [
                "subscriptions",
                ":subscriptionId",
                "resourcegroups",
                ":resourceGroupName",
              ],
              "query": Array [
                Object {
                  "key": "api-version",
                  "value": "2020-06-01",
                },
              ],
              "variable": Array [
                Object {
                  "key": "subscriptionId",
                  "type": "any",
                  "value": "{{subscriptionId}}",
                },
                Object {
                  "key": "resourceGroupName",
                  "type": "any",
                  "value": "{{resourceGroupName}}",
                },
              ],
            },
          },
          "response": Array [],
        },
      ],
      "name": "__CleanUp__",
    },
  ],
  "variable": Array [
    Object {
      "key": "subscriptionId",
      "type": "any",
    },
    Object {
      "key": "resourceGroupName",
      "type": "any",
    },
    Object {
      "key": "location",
      "type": "any",
    },
    Object {
      "key": "client_id",
      "type": "any",
    },
    Object {
      "key": "client_secret",
      "type": "any",
    },
    Object {
      "key": "tenantId",
      "type": "any",
    },
    Object {
      "key": "x_enable_auth",
      "type": "any",
      "value": "true",
    },
  ],
}
`;
